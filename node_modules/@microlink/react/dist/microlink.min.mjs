import e from"@babel/runtime/helpers/extends";import n from"@babel/runtime/helpers/defineProperty";import t from"@babel/runtime/helpers/objectWithoutProperties";import r,{useRef as a,useMemo as o,useCallback as i,useEffect as c,createElement as l,useState as s,useContext as d,forwardRef as p}from"react";import u from"@babel/runtime/helpers/taggedTemplateLiteral";import{css as m,styled as f,keyframes as g}from"styled-components";import{getApiUrl as h,fetchFromApi as b}from"@microlink/mql";export{fetchFromApi}from"@microlink/mql";const v=["accessibility","debounce","ellipsis","is","lines","text"];function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const x=e=>{let{accessibility:n=!0,debounce:r=300,ellipsis:s="…",is:d="div",lines:p=3,text:u}=e,m=t(e,v);const f=a(null),g=a("."),h=w(w({ref:f},n?{title:u}:{}),m),b=o((()=>"string"==typeof u&&u.length>0),[u]),y=i((()=>{var e,n,t,r;if(!b)return;const a=e=>{g.current=e,null!=f.current&&(f.current.innerText=e)};a(".");const o=((null!==(n=null===(e=f.current)||void 0===e?void 0:e.clientHeight)&&void 0!==n?n:0)+1)*p+1,i="…"===s?5:1.2*s.length;let c=0,l=0,d=u.length;for(;c<=d;){if(l=Math.floor((c+d)/2),a(u.slice(0,l)),l===u.length)return;(null!==(r=null===(t=f.current)||void 0===t?void 0:t.clientHeight)&&void 0!==r?r:0)<=o?c=l+1:d=l-1}a(u.slice(0,Math.max(l-i,0)).trim()+s)}),[s,b,p,u]);return c((()=>{y();const e=((e,n)=>{let t;const r=()=>{t=void 0,e()};return()=>{const a=null==t;clearTimeout(t),t=setTimeout(r,n),a&&e()}})(y,r);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[y,r]),b?l(d,h,g.current):null};function $(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k,z={exports:{}};var E,O={exports:{}};var S,P=$((e=>function(){if(k)return z.exports;k=1;const e=new RegExp("^(".concat([/^(:{2}f{4}:)?10(?:\.\d{1,3}){3}$/,/^(:{2}f{4}:)?127(?:\.\d{1,3}){3}$/,/^(::f{4}:)?169\.254\.([1-9]|1?\d\d|2[0-4]\d|25[0-4])\.\d{1,3}$/,/^(:{2}f{4}:)?(172\.1[6-9]|172\.2\d|172\.3[01])(?:\.\d{1,3}){2}$/,/^(:{2}f{4}:)?192\.168(?:\.\d{1,3}){2}$/,/^f[cd][\da-f]{2}(::1$|:[\da-f]{1,4}){1,7}$/,/^fe[89ab][\da-f](::1$|:[\da-f]{1,4}){1,7}$/,/^localhost$|^0\.0\.0\.0$/].map((e=>e.source)).join("|"),")$"));return z.exports=e.test.bind(e),z.exports.regex=e,z.exports}()(e)||function(){if(E)return O.exports;E=1;const e=new RegExp("^(".concat([/^\[(::1|::)\]$/].map((e=>e.source)).join("|"),")$"));return O.exports=e.test.bind(e),O.exports.regex=e,O.exports}()(e)));const j="undefined"==typeof window,C=e=>"function"==typeof e,D=e=>"object"==typeof e,M=e=>null==e,_=e=>D(e)?e.url:e,N=function(){return m(S||(S=u(["\n    @media (max-width: 48em) {\n      ",";\n    }\n  "])),m(...arguments))},R=e=>{let{apiKey:n,contrast:t=!1,data:r,endpoint:a,force:o,headers:i,media:c,prerender:l,proxy:s,ttl:d,url:p}=e;return h(p,{apiKey:n,audio:c.includes("audio"),data:r,endpoint:a,force:o,headers:i,iframe:c.includes("iframe"),palette:t,prerender:l,proxy:s,screenshot:c.includes("screenshot"),ttl:d,video:c.includes("video")})},F=e=>"large"===e,T=e=>"small"===e,L=e=>P(new URL(e).hostname)?e:"https://images.weserv.nl/?".concat(new URLSearchParams({url:e,default:e,l:9,af:"",il:"",n:-1}).toString()),V=!j&&"IntersectionObserver"in window,I=e=>{const n=parseInt(e,10);return[Math.floor(n/3600),Math.floor(n/60)%60,n%60].filter(((e,n)=>e>0||n>0)).map((e=>e>=10?e:"0".concat(e))).join(":")},U=(e,n,t)=>{switch(!0){case e<=n:return n;case e>=t:return t;default:return e}},W="microlink_card",B="".concat(W,"__content"),H="".concat(W,"__media"),X="".concat(H,"__controls"),A={main:W,content:B,title:"".concat(B,"_title"),description:"".concat(B,"_description"),url:"".concat(B,"_url"),mediaWrapper:"".concat(H,"_wrapper"),media:H,image:"".concat(H,"_image"),videoWrapper:"".concat(H,"_video_wrapper"),video:"".concat(H,"_video"),audioWrapper:"".concat(H,"_audio_wrapper"),audio:"".concat(H,"_audio"),mediaControls:X,playbackControl:"".concat(X,"_playback"),volumeControl:"".concat(X,"_volume"),rwControl:"".concat(X,"_rewind"),ffwControl:"".concat(X,"_fast_forward"),rateControl:"".concat(X,"_rate"),progressBar:"".concat(X,"_progress_bar"),progressTime:"".concat(X,"_progress_time"),spinner:"".concat(X,"_spinner"),iframe:"".concat(W,"__iframe")},K=["useNanoClamp","children"];var q,J;function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const Y=f((e=>{let{children:n,className:t,lines:a}=e;return M(n)?null:r.createElement(x,{className:t,lines:a,text:n,is:"p"})}))(q||(q=u(["\n  &&& {\n    text-align: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    color: inherit;\n    margin: 0;\n\n    ","\n  }\n"])),(e=>{let{$useNanoClamp:n}=e;return!n&&m(J||(J=u(["\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      "])))})),Z=n=>{let{useNanoClamp:a=!0,children:o}=n,i=t(n,K);const c=a?i:Q(Q({},i),{},{as:"p",title:o});return r.createElement(Y,e({$useNanoClamp:a},c),o)},ee={short:"100ms",medium:"150ms",long:"300ms"},ne={short:"cubic-bezier(.25,.8,.25,1)",medium:"cubic-bezier(.25,.8,.25,1)",long:"cubic-bezier(.4, 0, .2, 1)"},te=(e,n)=>{const t="".concat(ee[n]," ").concat(ne[n]);return e.map((e=>"".concat(e," ").concat(t))).join(", ")},re=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return te(n,"short")},ae=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return te(n,"medium")},oe=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return te(n,"long")},ie="InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif",ce="'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",le=["autoPlay","children","controls","loop","mediaRef","muted","playsInline","size"];function se(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const pe={},ue=r.createContext(pe),me=e=>{let{autoPlay:n,children:a,controls:c,loop:l,mediaRef:d,muted:p,playsInline:u,size:m}=e,f=t(e,le);const[g,h]=s(pe),b=i((e=>h((n=>de(de({},n),e)))),[]),v=o((()=>({autoPlay:n,controls:c,loop:l,mediaRef:d,muted:p,playsInline:u,size:m})),[n,c,l,d,p,u,m]),y=o((()=>({props:v,state:g,updateState:b})),[v,g,b]);return r.createElement(ue.Provider,{value:y},a(f))};var fe,ge,he,be,ve,ye,we,xe,$e,ke,ze,Ee;const Oe=/^www\./,Se="16px",Pe=m(fe||(fe=u(["\n  ",";\n"])),N(ge||(ge=u(["\n    > p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  "])))),je=f("div").attrs({className:A.content})(he||(he=u(["\n  display: flex;\n  padding: 10px 15px;\n  min-width: 0;\n  box-sizing: border-box;\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return m(be||(be=u(["\n    flex: ",";\n    justify-content: ",";\n    flex-direction: ",";\n    align-items: ",";\n  "])),F(n)?"0 0 125px":1,T(n)?"space-between":"space-around",T(n)?"row":"column",T(n)?"center":"stretch")})),Ce=f("header").attrs({className:A.title})(ve||(ve=u(["\n  text-align: left;\n  font-weight: bold;\n  margin: 0;\n  width: 100%;\n  ","\n"])),(e=>{let{$cardSize:n}=e;return m(ye||(ye=u(["\n    flex-grow: ",";\n    font-size: ",";\n\n    ","\n  "])),T(n)?.8:1.2,T(n)?"15px":"16px",T(n)&&m(we||(we=u(["\n      min-width: 0;\n      padding-right: 14px;\n    "]))))})),De=f("div").attrs({className:A.description})(xe||(xe=u(["\n  text-align: left;\n  font-size: 14px;\n  flex-grow: 2;\n  margin: auto 0;\n  line-height: 18px;\n  font-weight: normal;\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return!F(n)&&Pe})),Me=f("footer").attrs({className:A.url})($e||($e=u(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n  margin: 0;\n  flex-grow: 0;\n  font-weight: normal;\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return m(ke||(ke=u(["\n    font-size: ",";\n    ","\n  "])),T(n)?"10px":"12px",!T(n)&&"width: 100%;")})),_e=f(Z)(ze||(ze=u(["\n  opacity: 0.75;\n  transition: ",";\n  will-change: opacity;\n\n  .",":hover & {\n    opacity: 1;\n  }\n"])),ae("opacity"),A.main),Ne=f("span").attrs({title:"microlink.io"})(Ee||(Ee=u(["\n  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center\n    center;\n  display: block;\n  margin-left: 15px;\n  transition: ",";\n  will-change: filter, opacity;\n  &:not(:hover) {\n    filter: grayscale(100%);\n    opacity: 0.75;\n  }\n\n  min-width: ",";\n  width: ",";\n  background-size: ",";\n  height: ",";\n"])),ae("filter","opacity"),Se,Se,Se,"12px"),Re=()=>{const{state:{description:e,title:n,url:t},props:{size:a}}=d(ue),c=T(a),l=o((()=>(e=>{if(M(e))return"";const{hostname:n}=new URL(e);return n.replace(Oe,"")})(t)),[t]),s=i((e=>{e.preventDefault(),window.open("https://www.microlink.io","_blank")}),[]);return r.createElement(je,{$cardSize:a},r.createElement(Ce,{$cardSize:a},r.createElement(Z,{$useNanoClamp:!1},n)),!c&&r.createElement(De,{$cardSize:a},r.createElement(Z,{lines:2},e)),r.createElement(Me,{$cardSize:a},r.createElement(_e,{$useNanoClamp:!1},l),r.createElement(Ne,{onClick:s})))};var Fe,Te,Le,Ve;const Ie=g(Fe||(Fe=u(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #cdd4d8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]))),Ue=g(Te||(Te=u(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #dce3e8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]))),We=m(Le||(Le=u(["\n  animation: "," .75s linear infinite;\n"])),Ie),Be=m(Ve||(Ve=u(["\n  animation: "," 1.25s linear infinite;\n"])),Ue);var He,Xe,Ae;const Ke=f("img")(He||(He=u(["\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  z-index: -1;\n"]))),qe=m(Xe||(Xe=u(["\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background: #e1e8ed;\n    z-index: 1;\n    transition: ",";\n    will-change: opacity;\n\n    ",";\n  }\n"])),ae("opacity","visibility"),(e=>{let{$isLoading:n}=e;return m(Ae||(Ae=u(["\n      opacity: ",";\n      visibility: ",";\n    "])),n?1:0,n?"$visible":"hidden")}));var Je,Ge,Qe,Ye,Ze;const en={small:m(Je||(Je=u(["\n    flex: 0 0 48px;\n  "]))),normal:m(Ge||(Ge=u(["\n    flex: 0 0 125px;\n\n    ","\n  "])),N(Qe||(Qe=u(["\n      flex: 0 0 92px;\n    "])))),large:m(Ye||(Ye=u(["\n    flex: 1;\n\n    &::before {\n      padding-bottom: 0;\n    }\n  "])))},nn=f("div")(Ze||(Ze=u(["\n  background: transparent no-repeat center center / cover;\n  display: block;\n  overflow: hidden;\n  height: auto;\n  position: relative;\n\n  &::before {\n    content: '';\n    padding-bottom: 100%;\n    display: block;\n  }\n\n  ",";\n\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return en[n]}),qe),tn=n=>{const{props:{size:t}}=d(ue);return r.createElement(nn,e({$cardSize:t},n))};var rn;const an=f(tn).attrs({className:"".concat(A.media," ").concat(A.image)})(rn||(rn=u(["\n  background-image: ",";\n"])),(e=>{let{url:n}=e;return n?"url('".concat(L(n),"')"):""})),on=n=>{const{state:{imageUrl:t}}=d(ue);return r.createElement(an,e({url:t},n))};var cn,ln,sn,dn,pn;const un=f(on)(cn||(cn=u(["\n  ",";\n"])),Be),mn=f("span")(ln||(ln=u(["\n  opacity: 0.8;\n  height: 16px;\n  width: ",";\n  display: block;\n  background: #e1e8ed;\n  margin: ",";\n  ",";\n\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return T(n)?"75%":"60%"}),(e=>{let{$cardSize:n}=e;return T(n)?"0 20px 0 0":"2px 0 8px"}),We,(e=>{let{$cardSize:n}=e;return!F(n)&&"\n    height: 15px;\n  "})),fn=f("span")(sn||(sn=u(["\n  opacity: 0.8;\n  height: 14px;\n  width: 95%;\n  display: block;\n  position: relative;\n  ",";\n  animation-delay: 0.125s;\n"])),We),gn=f("span")(dn||(dn=u(["\n  opacity: 0.8;\n  height: 12px;\n  width: 30%;\n  display: block;\n  "," animation-delay: .25s;\n\n  ",";\n"])),We,(e=>{let{$cardSize:n}=e;return!F(n)&&"\n    height: 10px;\n  "})),hn=()=>{const{props:{size:e}}=d(ue),n=T(e);return r.createElement(r.Fragment,null,r.createElement(un,{$cardSize:e}),r.createElement(je,{$cardSize:e},r.createElement(mn,{$cardSize:e}),n?null:r.createElement(r.Fragment,null,r.createElement(fn,{$cardSize:e}),r.createElement(fn,{$cardSize:e,style:{marginBottom:"12px"}})),pn||(pn=r.createElement(gn,null))))};var bn;const vn=f("div")(bn||(bn=u(["\n  backface-visibility: hidden;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\n  transition: ",";\n  will-change: transform;\n\n  > svg {\n    display: block;\n  }\n\n  &:active:not(:focus) {\n    transform: scale(0.9);\n  }\n"])),re("transform"));var yn,wn,xn,$n,kn,zn,En,On,Sn;const Pn=n=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},n),yn||(yn=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}))),jn=n=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},n),wn||(wn=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}))),Cn=f("div")(xn||(xn=u(["\n  z-index: 2;\n  position: absolute;\n  bottom: ","px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: ",";\n  will-change: opacity;\n"])),(e=>{let{$cardSize:n}=e;return F(n)?18:14}),ae("opacity")),Dn=f("svg")($n||($n=u(["\n  stroke: #fff;\n"]))),Mn=f(vn).attrs({className:A.volumeControl})(kn||(kn=u(["\n  "," {\n    width: ","px;\n    height: ","px;\n\n    ","\n  }\n"])),Dn,(e=>{let{$cardSize:n}=e;return F(n)?16:14}),(e=>{let{$cardSize:n}=e;return F(n)?16:14}),(e=>{let{$cardSize:n}=e;return!F(n)&&N(zn||(zn=u(["\n      width: 12px;\n      height: 12px;\n    "])))})),_n=f(vn).attrs({className:A.rateControl})(En||(En=u(["\n  font-size: ","px;\n  min-width: ","px;\n  line-height: 1;\n  font-weight: bold;\n  border: 1.5px solid #fff;\n  border-radius: 9999px;\n  padding: 1px 5px;\n  text-align: center;\n  color: #fff;\n  margin-left: 10px;\n\n  ","\n"])),(e=>{let{$cardSize:n}=e;return F(n)?12:10}),(e=>{let{$cardSize:n}=e;return F(n)?33:28}),(e=>{let{$cardSize:n}=e;return!F(n)&&N(On||(On=u(["\n    font-size: 8px;\n    margin-left: 8px;\n    min-width: 23px;\n  "])))})),Nn=f("span").attrs({className:A.progressTime})(Sn||(Sn=u(["\n  margin: ",";\n  font-family: ",";\n  font-size: 12px;\n  padding: 0 16px;\n  color: #fff;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n"])),(e=>{let{$right:n}=e;return n?"0 0 0 auto":"0 auto 0 0"}),ce),Rn=e=>{let{$cardSize:n,currentTime:t,endTime:a,isMuted:i,onMuteClick:c,onPlaybackRateClick:l,playbackRate:s}=e;const d=o((()=>i?Pn:jn),[i]),p=o((()=>F(n)),[n]);return r.createElement(Cn,{$cardSize:n},p&&r.createElement(Nn,null,t),r.createElement(Mn,{title:i?"Unmute":"Mute",$cardSize:n,onClick:c},r.createElement(Dn,{as:d})),r.createElement(_n,{title:"Playback Rate",$cardSize:n,onClick:l},r.createElement("span",null,s,"x")),p&&r.createElement(Nn,{$right:!0},a))},Fn=["$isPlaying"];var Tn,Ln,Vn,In,Un,Wn;const Bn=n=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},n),Tn||(Tn=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z",transform:"translate(-8 -6)"}))),Hn=n=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 24"},n),Ln||(Ln=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z",transform:"translate(-6 -4)"}))),Xn={large:"50px",normal:"35px",small:"20px"},An=f("svg")(Vn||(Vn=u(["\n  stroke: #fff;\n"]))),Kn=f(vn).attrs({className:A.playbackControl})(In||(In=u(["\n  "," {\n    ","\n  }\n"])),An,(e=>{let{$cardSize:n}=e;return m(Un||(Un=u(["\n      width: ",";\n      height: ",";\n      padding: ",";\n\n      ","\n    "])),Xn[n],Xn[n],F(n)?0:"8px",!F(n)&&!T(n)&&N(Wn||(Wn=u(["\n        width: calc("," * 1.2);\n        height: calc("," * 1.2);\n      "])),Xn.small,Xn.small))})),qn=n=>{let{$isPlaying:a}=n,i=t(n,Fn);const c=o((()=>a?Bn:Hn),[a]);return r.createElement(Kn,e({title:a?"Pause":"Play"},i),r.createElement(An,{as:c}))};var Jn,Gn;const Qn={normal:.8,small:.9},Yn=f("div").attrs((e=>{let{$isVisible:n,$positionX:t}=e;return{style:{left:t,transform:"scale(".concat(n?1:.5,") translate(-50%, -50%)"),opacity:n?1:0,visibility:n?"$visible":"hidden"}}}))(Jn||(Jn=u(["\n  position: absolute;\n  top: 50%;\n  background: #ffffff;\n  border-radius: 50%;\n  transform-origin: center center;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  transition: ",";\n  will-change: left, transform, opacity, visibility;\n  backface-visibility: hidden;\n  z-index: 3;\n\n  ","\n"])),re("transform","opacity","visibility"),(e=>{let{$cardSize:n}=e;const t=(r=n,Math.floor(12*(Qn[r]||1)));var r;return m(Gn||(Gn=u(["\n      height: ","px;\n      width: ","px;\n    "])),t,t)})),Zn=["$isDragging","$isVisible","label","$positionX","size"];var et;const nt={normal:.8},tt=f("span").attrs((e=>{let{$position:n,$isDragging:t,$visible:r}=e;return{style:{left:"".concat(n,"px"),top:r?"-4px":"0px",visibility:r?"$visible":"hidden",opacity:r?1:0,transform:"translate(-50%, ".concat(t?-110:-100,"%)")}}}))(et||(et=u(["\n  position: absolute;\n  background: rgba(24, 25, 25, 0.75);\n  color: #fff;\n  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);\n  padding: 2px 3px;\n  border-radius: 4px;\n  font-family: ",";\n  font-size: ","px;\n  line-height: 1;\n  transition: ",",\n    ",";\n  will-change: top, left, visibility, opacity, transform;\n  backface-visibility: hidden;\n"])),ce,(e=>{let{$cardSize:n}=e;return 11*(nt[n]||1)}),ae("opacity","visibility","transform"),oe("top")),rt=p(((n,a)=>{let{$isDragging:o,$isVisible:i,label:c,$positionX:l,size:s}=n,d=t(n,Zn);return r.createElement(r.Fragment,null,r.createElement(tt,e({$visible:i,$position:l,$cardSize:s,ref:a,$isDragging:o},d),c))}));rt.displayName="Tooltip";const at=["key"];var ot,it,ct,lt,st,dt,pt;const ut={normal:.7,small:.6},mt={small:.9,large:1.4},ft=e=>Math.floor(6*(mt[e]||1)),gt=f("div").attrs((()=>({className:A.progressBar})))(ot||(ot=u(["\n  position: relative;\n  padding: ","px ","px ","px;\n  z-index: 2;\n  backface-visibility: hidden;\n"])),6,3,3),ht=f("div").attrs((e=>{let{$cardSize:n,$isDragging:t}=e;if(t){const e=ft(n);return{style:{height:"".concat(e,"px")}}}return{}}))(it||(it=u(["\n  background: transparent;\n  border-radius: 9999px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  background: rgba(255, 255, 255, 0.15);\n  transition: ",";\n  will-change: height;\n  pointer-events: none;\n  position: relative;\n\n  ","\n"])),re("height"),(e=>{let{$cardSize:n}=e;const t=(r=n,Math.floor(6*(ut[r]||1)));var r;const a=ft(n);return m(ct||(ct=u(["\n      height: ","px;\n\n      ",":hover & {\n        height: ","px;\n      }\n    "])),t,gt,a)})),bt=f("div")(lt||(lt=u(["\n  border-radius: inherit;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n"]))),vt=f("div").attrs((e=>{let{$maskScale:n}=e;return{style:{transform:"scaleX(".concat(n,")")}}}))(st||(st=u(["\n  position: absolute;\n  left: 0;\n  top: -50%;\n  height: 200%;\n  width: 100%;\n  background: #ffffff;\n  transform-origin: left center;\n  will-change: transform;\n"]))),yt=f("div").attrs((e=>{let{$cursorRatio:n,$isHovering:t,$progressPercent:r}=e;return{style:{left:r,transform:"scaleX(".concat(n,")"),opacity:t?1:0,visibility:t?"$visible":"hidden"}}}))(dt||(dt=u(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  transform-origin: left center;\n  transition: ",";\n  will-change: left, transform, opacity, $visible;\n"])),re("opacity","visibility")),wt=f("div").attrs((e=>{let{start:n,end:t}=e;return{style:{left:"".concat(n,"px"),right:"".concat(t,"px")}}}))(pt||(pt=u(["\n  background: rgba(255, 255, 255, 0.35);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n"]))),xt=n=>{let{bufferedMedia:c,cursorX:l,duration:s,hoveredTime:p,$isDragging:u,$isHovering:m,onClick:f,onMouseDown:g,onMouseOver:h,progress:b,showTooltip:v}=n;const{props:{size:y}}=d(ue),w=a(),x=a(),$=o((()=>T(y)),[y]),k=i((()=>w.current?w.current.getBoundingClientRect().width-6:0),[]),z=o((()=>U(b/s,0,1)),[s,b]),E=o((()=>"".concat(U(100*z,1,99),"%")),[z]),O=o((()=>{if(w.current){const e=k(),n=z*e,t=l-n;if(t>0)return U((t/(e-n)).toFixed(3),0,.99)}return 0}),[l,k,z]),S=o((()=>{const e=k();return c.map(((n,t)=>({key:t,start:n.start*e,end:e-n.end*e})))}),[c,k]),P=o((()=>I(p)),[p]),j=o((()=>{if(w.current&&x.current){const e=k(),n=x.current.getBoundingClientRect().width/2;return U(l,n,e-n)}return 0}),[l,k]),C=o((()=>({onClick:f,onMouseDown:g,onMouseOver:h})),[f,g,h]),D=o((()=>u||m),[u,m]);return r.createElement(gt,e({$cardSize:y,ref:w},C),r.createElement(ht,{$cardSize:y,$isDragging:u},r.createElement(bt,null,r.createElement(yt,{$cursorRatio:O,$isHovering:m,$progressPercent:E}),S.map((n=>{let{key:a}=n,o=t(n,at);return r.createElement(wt,e({key:a},o))})),r.createElement(vt,{$maskScale:z})),r.createElement(Yn,{$cardSize:y,$isVisible:D,$positionX:E}),!$&&r.createElement(rt,{$isDragging:u,$isVisible:D,label:P,$positionX:j,ref:x,size:y})))};var $t,kt,zt,Et,Ot;const St=["$cardSize"],Pt=["$cardSize"],jt=["type","$cardSize"],Ct=n=>{let a=t(n,St);return r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},a),$t||($t=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z",transform:"translate(-4 -1)"})))},Dt=n=>{let a=t(n,Pt);return r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},a),kt||(kt=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z",transform:"translate(-4 -1)"})))},Mt=f("svg")(zt||(zt=u(["\n  stroke: #fff;\n  width: ","px;\n  height: ","px;\n\n  ","\n"])),(e=>{let{$cardSize:n}=e;return F(n)?30:24}),(e=>{let{$cardSize:n}=e;return F(n)?30:24}),(e=>{let{$cardSize:n}=e;return!F(n)&&N(Et||(Et=u(["\n    width: 0;\n    height: 0;\n  "])))})),_t=f(vn)(Ot||(Ot=u(["\n  margin: 0 ",";\n"])),(e=>{let{$cardSize:n}=e;return F(n)?"28px":"3px"})),Nt=n=>{let{type:a="rewind",$cardSize:i}=n,c=t(n,jt);const l=o((()=>"rewind"===a?Ct:Dt),[a]);return r.createElement(_t,e({title:"rewind"===a?"Rewind":"Forward",$cardSize:i},c),r.createElement(Mt,{as:l,$cardSize:i}))};var Rt,Ft,Tt,Lt,Vt,It;const Ut={normal:.8,small:.6},Wt={normal:.9,small:.8},Bt=g(Rt||(Rt=u(["\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),Ht=g(Ft||(Ft=u(["\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n"]))),Xt=f(vn).attrs((e=>{let{$isVisible:n}=e;return{style:{opacity:n?1:0,visibility:n?"$visible":"hidden"}}}))((e=>{let{$cardSize:n}=e;const t="".concat((e=>Math.floor(12*(Wt[e]||1)))(n),"px"),r="".concat((e=>Math.floor(6*(Ut[e]||1)))(n),"px");return m(Tt||(Tt=u(["\n    position: absolute;\n    width: ",";\n    right: ",";\n    top: ",";\n    transition: ",";\n    will-change: opacity, visibility;\n    pointer-events: none;\n  "])),t,r,r,ae("opacity","visibility"))})),At=f("svg")(Lt||(Lt=u(["\n  width: 100%;\n  animation: "," 2s linear infinite;\n  will-change: transform;\n"])),Bt),Kt=f("circle")(Vt||(Vt=u(["\n  stroke: #fff;\n  stroke-linecap: round;\n  stroke-width: 7;\n  fill: none;\n  animation: "," 1.5s ease-in-out infinite;\n  will-change: stroke-dasharray, stroke-dashoffset;\n"])),Ht),qt=e=>{let{size:n,$isVisible:t}=e;return r.createElement(Xt,{$cardSize:n,className:A.spinner,$isVisible:t},It||(It=r.createElement(At,{viewBox:"0 0 50 50"},r.createElement(Kt,{cx:"25",cy:"25",r:"20"}))))};var Jt,Gt,Qt,Yt,Zt;const er=32,nr=37,tr=39,rr=77,ar=f("div").attrs({className:A.mediaControls})(Jt||(Jt=u(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  transition: ",", ",";\n  will-change: background;\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  ","\n"])),oe("background"),ae("opacity"),(e=>{let{$hasInteracted:n,$isDragging:t,$isPlaying:r}=e;const a="rgba(0, 0, 0, 0.35)",o=n&&!r;return m(Gt||(Gt=u(["\n      .",":hover & {\n        background: ",";\n      }\n\n      .",":not(:hover) & {\n        opacity: ",";\n        ",";\n      }\n    "])),A.main,t?"rgba(0, 0, 0, 0.2)":a,A.main,!n||o?1:0,o&&"background: ".concat(a))})),or=f("div")(Qt||(Qt=u(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n"]))),ir=f("div")(Yt||(Yt=u(["\n  flex: 1;\n\n  ","\n"])),(e=>{let{$isVisible:n}=e;return!n&&m(Zt||(Zt=u(["\n      *[class*='","']:not(.",") {\n        transition: ",";\n        opacity: 0;\n        visibility: hidden;\n      }\n    "])),A.mediaControls,A.progressTime,ae("opacity","visibility"))})),cr=n=>{let{MediaComponent:t,mediaProps:l}=n;const{props:{autoPlay:p,controls:u,mediaRef:m,muted:f,loop:g,size:h}}=d(ue),[b,v]=s(0),[y,w]=s(0),[x,$]=s([]),[k,z]=s(0),[E,O]=s(0),[S,P]=s(p),[j,D]=s(f),[M,_]=s(!1),[N,R]=s(!1),[F,L]=s(!1),[V,W]=s(1),[B,H]=s(p),[X,K]=s(!1),q=a(),J=i((e=>{q.current=e,m&&(C(m)?m(e):m.current=e)}),[m]),G=o((()=>!T(h)),[h]),Q=o((()=>({onCanPlay:()=>_(!1),onLoadedMetadata:e=>v(e.currentTarget.duration),onPause:()=>P(!1),onPlay:()=>P(!0),onPlaying:()=>_(!1),onProgress:e=>$(e.currentTarget.buffered),onRateChange:e=>W(e.currentTarget.playbackRate),onTimeUpdate:e=>w(e.currentTarget.currentTime),onVolumeChange:e=>D(e.currentTarget.muted),onWaiting:e=>_(!0)})),[]),Y=i((e=>{if(q.current){const n=e.currentTarget.getBoundingClientRect(),t=U(Math.floor(e.clientX-n.left),0,n.width);return{cursor:t,time:t/n.width*q.current.duration}}return{cursor:0,time:0}}),[]),Z=i((()=>{q.current&&(q.current.paused?(B||H(!0),q.current.play()):q.current.pause())}),[B]),ee=i((e=>{if(q.current){const n=U(e,0,q.current.duration);q.current.currentTime=n,w(n)}}),[]),ne=i(((e,n)=>{if(e.preventDefault(),e.stopPropagation(),q.current){const{currentTime:e}=q.current;ee("rewind"===n?e-10:e+30)}}),[ee]),te=i((e=>{e.preventDefault(),e.stopPropagation(),q.current&&(q.current.muted=!q.current.muted)}),[]),re=i((e=>{e.preventDefault(),e.stopPropagation(),q.current&&(q.current.playbackRate=(e=>{switch(e){case 1:return 1.25;case 1.25:return 1.5;case 1.5:return 2;default:return 1}})(q.current.playbackRate))}),[]),ae=i((e=>{e.preventDefault(),e.stopPropagation(),L(!1)}),[]),oe=i((e=>{e.preventDefault(),e.stopPropagation(),L(!0);const{time:n}=Y(e);ee(n)}),[Y,ee]),ie=i((()=>R(!0)),[]),ce=i((e=>{e.preventDefault(),e.stopPropagation(),F?L(!1):Z()}),[F,Z]),le=i((e=>{if((F||N)&&q.current){e.preventDefault();const{cursor:n,time:t}=Y(e);O(t),z(n),F&&(q.current.paused||(q.current.pause(),K(!0)),ee(t))}}),[Y,F,N,ee]),se=i((e=>{F&&0===e.buttons&&L(!1)}),[F]),de=i((e=>{if(F)return;const{keyCode:n}=e;if([er,nr,tr,rr].includes(n)&&q.current)switch(e.preventDefault(),n){case er:Z();break;case nr:ee(q.current.currentTime-5);break;case tr:ee(q.current.currentTime+5);break;case rr:q.current.muted=!q.current.muted}}),[F,ee,Z]),pe=o((()=>({onClick:ce,onKeyDown:de,onMouseMove:le,onMouseOut:()=>R(!1),onMouseOver:se})),[ce,de,le,se]),me=o((()=>B?{title:""}:{}),[B]),fe=o((()=>x&&x.length&&q.current?[...Array(x.length).keys()].map((e=>({start:x.start(e)/q.current.duration,end:x.end(e)/q.current.duration}))):[]),[x]),ge=o((()=>I(y||0)),[y]),he=o((()=>I(b||0)),[b]),be=o((()=>({$cardSize:h,currentTime:ge,endTime:he,isMuted:j,onMuteClick:te,onPlaybackRateClick:re,playbackRate:V})),[ge,he,j,te,re,V,h]),ve=o((()=>({bufferedMedia:fe,cursorX:k,duration:b,hoveredTime:E,$isDragging:F,$isHovering:N,onClick:ae,onMouseDown:oe,onMouseOver:ie,progress:y,showTooltip:F||N})),[fe,k,b,E,F,N,ae,oe,ie,y]);return c((()=>{!F&&X&&q.current&&q.current.paused&&(q.current.play(),K(!1))}),[X,F]),r.createElement(r.Fragment,null,r.createElement(t,e({},l,Q,{ref:J,autoPlay:p,loop:g,muted:f})),u&&r.createElement(ar,e({},me,{tabIndex:0,$hasInteracted:B,$isDragging:F,$isPlaying:S},pe),r.createElement(qt,{size:h,$isVisible:M}),B?r.createElement(r.Fragment,null,r.createElement(ir,{$isVisible:!F},r.createElement(or,null,G&&r.createElement(Nt,{className:A.rwControl,type:"rewind",$cardSize:h,onClick:e=>ne(e,"rewind")}),r.createElement(qn,{$cardSize:h,$isPlaying:S}),G&&r.createElement(Nt,{className:A.ffwControl,type:"fastforward",$cardSize:h,onClick:e=>ne(e,"fastforward")})),G&&r.createElement(Rn,be)),r.createElement(xt,ve)):r.createElement(or,null,r.createElement(qn,{$cardSize:h}))))};var lr;const sr=f("video")(lr||(lr=u(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  &::media-controls-start-playback-button {\n    display: none;\n    appearance: none;\n  }\n"]))),dr={video:n=>{const{state:{imageUrl:t,playsInline:a,videoUrl:i}}=d(ue),c=o((()=>{const e={className:"".concat(A.media," ").concat(A.video),src:i,playsInline:a};return t&&(e.poster=L(t)),e}),[t,a,i]);return r.createElement(tn,e({className:"".concat(A.mediaWrapper," ").concat(A.videoWrapper)},n),r.createElement(cr,{MediaComponent:sr,mediaProps:c}))},image:on,audio:n=>{const{state:{audioUrl:t}}=d(ue),a=o((()=>({className:"".concat(A.media," ").concat(A.audio),src:t})),[t]);return r.createElement(on,e({className:"".concat(A.mediaWrapper," ").concat(A.audioWrapper)},n),r.createElement(cr,{MediaComponent:"audio",mediaProps:a}))}},pr=()=>{const{state:{imageUrl:e,isAudio:n,isVideo:t}}=d(ue),[a,o]=s(null!==_(e));const i=((e,n)=>e?"audio":n?"video":"image")(n,t),c=dr[i];return r.createElement(r.Fragment,null,r.createElement(c,{$isLoading:a}),a&&r.createElement(Ke,{src:e,onLoad:()=>o(!1)}))},ur=["href","rel","target","as"];var mr,fr,gr,hr,br;function vr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const wr="382px",xr=e=>{let{$backgroundColor:n,color:t}=e;return m(mr||(mr=u(["\n  background-color: ",";\n  border-color: ",";\n  transition-property: filter;\n  will-change: filter;\n\n  &&& {\n    color: ",";\n  }\n\n  &:hover {\n    filter: brightness(90%);\n  }\n"])),n,t,t)},$r=m(fr||(fr=u(["\n  flex-direction: column;\n  height: ",";\n  ",";\n"])),wr,N(gr||(gr=u(["\n    height: calc("," * 7/9);\n  "])),wr)),kr=m(hr||(hr=u(["\n  transition-property: background, border-color;\n  will-change: background, border-color;\n  &:hover {\n    background-color: var(--microlink-hover-background-color, #f5f8fa);\n    border-color: var(--microlink-hover-border-color, #8899a680);\n  }\n"]))),zr=e=>{let{$cardSize:n}=e;return m(br||(br=u(["\n  flex-direction: ",";\n"])),F(n)?"column-reverse":"row-reverse")},Er=m((()=>"\n  max-width: var(--microlink-max-width, 500px);\n  background-color: var(--microlink-background-color, #fff);\n  border-width: var(--microlink-border-width, 1px);\n  border-style: var(--microlink-border-style, solid);\n  border-color: var(--microlink-border-color, #e1e8ed);\n  color: var(--microlink-color, #181919);\n  overflow: hidden;\n  font-family: ".concat(ie,";\n  display: flex;\n  text-decoration: none;\n  opacity: 1;\n  position: relative;\n  transition-duration: ").concat(ee.medium,";\n  transition-timing-function: ").concat(ne.medium,";\n\n  &:active,\n  &:hover {\n    outline: 0;\n  }\n"))),Or=f("a")(Er,(e=>{let{$isLoading:n,contrast:t}=e;return!n&&!t&&kr}),(e=>{let{$cardSize:n}=e;return F(n)&&$r}),(e=>{let{direction:n}=e;return"rtl"===n&&zr}),(e=>{let{$backgroundColor:n,color:t,contrast:r}=e;return r&&t&&n&&xr}),(e=>{let{$backgroundColor:n,color:t,contrast:r}=e;return r&&(!t||!n)&&kr})),Sr=p(((e,n)=>{let{href:r,rel:a="noopener noreferrer",target:o="_blank",as:i="a"}=e,c=t(e,ur);const{state:{$backgroundColor:s,color:p,title:u},props:{size:m}}=d(ue);return l(Or,yr(yr(yr({},"a"===i?{href:r,rel:a,target:o}:void 0),c),{},{$backgroundColor:s,$cardSize:m,color:p,ref:n,title:u}))}));Sr.displayName="CardWrap";var Pr,jr,Cr;const Dr=["className","fetchData","lazy","loading","media","setData","url","apiKey"],Mr=["className","apiKey","autoPlay","controls","direction","lazy","loop","media","fetchData","muted","playsInline","size"];function _r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const Rr=n=>{const{className:a,fetchData:l,lazy:p,loading:u,media:m,setData:f,url:g,apiKey:h}=n,v=t(n,Dr),y=o((()=>[].concat(m)),[m]),{updateState:w}=d(ue),[x,$]=s(!0),[k,z]=s(null),[E,O]=s(!1),S=o((()=>void 0===u),[u]),[P,N]=o((()=>R(Nr(Nr({},n),{},{media:y}))),[y,n]),F=o((()=>V&&(!0===p||D(p))),[p]),T=o((()=>D(p)?p:void 0),[p]),[L,I]=((e,n)=>{const[t,r]=s(!1);return[t,i((t=>{if(e){const e=new IntersectionObserver(((e,n)=>{let[t]=e;t.isIntersecting&&(r(!0),n.unobserve(t.target))}),n);null!==t&&e.observe(t)}else r(!0)}),[e,n])]})(F,T),U=o((()=>!F||F&&L),[F,L]),W=i((e=>{const n=C(f)?f(e):Nr(Nr({},e),f),{title:t,description:r,url:a,video:o,audio:i,image:c,logo:l,iframe:s}=n,d=c||l||{};let p,u,m=d,g=!1,h=!1;const b=((e,n)=>{let t;for(let r=0;r<n.length;r++){const a=n[r],o=e[a];if(!M(o)){t=a;break}}return t})(n,y);switch(b){case"audio":h=!0,u=_(i);break;case"video":g=!0,p=_(o);break;case"iframe":z(s);break;default:m=((e,n)=>e[n.find((n=>!M(e[n])))])(n,y)||d}const v=_(m),{color:x,background_color:k}=m;w({url:a,color:x,title:t,description:r,imageUrl:v,videoUrl:p,audioUrl:u,isVideo:g,isAudio:h,$backgroundColor:k}),$(!1)}),[w,y,f]),B=i((()=>{if(U){$(!0);(l?b(P,N):Promise.resolve({})).then((e=>{let{data:n}=e;return W(n)})).catch((e=>{$(!1),O(!0),console.error("\n┌───────────────┐\n│ Microlink SDK │\n└───────────────┘\n\n".concat(e.description,"\n\n").concat(JSON.stringify(e.data),"\n\nid   ").concat(e.headers["x-request-id"],"\nuri  ").concat(e.url,"\ncode ").concat(e.code," (").concat(e.statusCode,")\n\nmicrolink.io/").concat(e.code.toLowerCase(),"\n"))}))}}),[N,l,P,W,U]);c(B,[g,f,L]);const H=S?x:u;return E?r.createElement("a",e({href:g},v),g):k?(j||k.scripts.forEach((e=>{if(!document.querySelector('script[src="'.concat(e.src,'"]'))){const n=document.createElement("script");Object.keys(e).forEach((t=>n[t]=e[t])),document.body.appendChild(n)}})),r.createElement("div",e({className:A.iframe,dangerouslySetInnerHTML:{__html:k.html}},v))):r.createElement(Sr,e({className:"".concat(A.main," ").concat(a).trim(),href:g,$isLoading:H,ref:I},v),H?Pr||(Pr=r.createElement(hn,null)):r.createElement(r.Fragment,null,jr||(jr=r.createElement(pr,null)),Cr||(Cr=r.createElement(Re,null))))},Fr=n=>{let{className:a="",apiKey:o,autoPlay:i=!0,controls:c=!0,direction:l="ltr",lazy:s=!0,loop:d=!0,media:p=["iframe","video","audio","image","logo"],fetchData:u=!0,muted:m=!0,playsInline:f=!0,size:g="normal"}=n,h=t(n,Mr);return r.createElement(me,e({className:a,apiKey:o,autoPlay:i,controls:c,direction:l,lazy:s,loop:d,media:p,fetchData:u,muted:m,playsInline:f,size:g},h),(e=>r.createElement(Rr,e)))};export{Fr as default,R as getApiUrl,L as imageProxy};
//# sourceMappingURL=microlink.min.mjs.map
