{"version":3,"file":"microlink.min.cjs","sources":["../../../node_modules/.pnpm/nanoclamp@2.0.7_react@18.2.0/node_modules/nanoclamp/dist/nanoclamp.mjs","../../../node_modules/.pnpm/is-local-address@2.0.0/node_modules/is-local-address/src/index.js","../../../node_modules/.pnpm/is-local-address@2.0.0/node_modules/is-local-address/src/ipv4.js","../../../node_modules/.pnpm/is-local-address@2.0.0/node_modules/is-local-address/src/ipv6.js","../src/utils/index.js","../src/components/Card/CardText.js","../src/theme.js","../src/context/GlobalState.js","../src/components/Card/CardContent.js","../src/components/Card/CardAnimation.js","../src/components/Card/CardMedia/loader.js","../src/components/Card/CardMedia/Wrap.js","../src/components/Card/CardMedia/Image.js","../src/components/Card/CardEmpty.js","../src/components/Card/CardMedia/Controls/MediaButton.js","../src/components/Card/CardMedia/Controls/FooterControls.js","../src/components/Card/CardMedia/Controls/PlaybackButton.js","../src/components/Card/CardMedia/Controls/ProgressBar/Scrubber.js","../src/components/Card/CardMedia/Controls/ProgressBar/Tooltip.js","../src/components/Card/CardMedia/Controls/ProgressBar/index.js","../src/components/Card/CardMedia/Controls/SeekButton.js","../src/components/Card/CardMedia/Controls/Spinner.js","../src/components/Card/CardMedia/Controls/index.js","../src/components/Card/CardMedia/Video.js","../src/components/Card/CardMedia/index.js","../src/components/Card/CardMedia/Audio.js","../src/components/Card/CardWrap.js","../src/index.js","../src/utils/hooks.js"],"sourcesContent":["import{useRef as e,useMemo as t,useCallback as n,useEffect as r,createElement as i}from\"react\";const l=({accessibility:l=!0,debounce:o=300,ellipsis:u=\"…\",is:c=\"div\",lines:s=3,text:d,...v})=>{const a=e(null),f=e(\".\"),h={ref:a,...l?{title:d}:{},...v},g=t((()=>\"string\"==typeof d&&d.length>0),[d]),m=n((()=>{var e,t,n,r;if(!g)return;const i=e=>{f.current=e,null!=a.current&&(a.current.innerText=e)};i(\".\");const l=((null!==(t=null===(e=a.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0)+1)*s+1,o=\"…\"===u?5:1.2*u.length;let c=0,v=0,h=d.length;for(;c<=h;){v=Math.floor((c+h)/2);if(i(d.slice(0,v)),v===d.length)return;(null!==(r=null===(n=a.current)||void 0===n?void 0:n.clientHeight)&&void 0!==r?r:0)<=l?c=v+1:h=v-1}i(d.slice(0,Math.max(v-o,0)).trim()+u)}),[u,g,s,d]);return r((()=>{m();const e=((e,t)=>{let n;const r=()=>{n=void 0,e()};return()=>{const i=null==n;clearTimeout(n),n=setTimeout(r,t),i&&e()}})(m,o);return window.addEventListener(\"resize\",e),()=>window.removeEventListener(\"resize\",e)}),[m,o]),g?i(c,h,f.current):null};export{l as default};\n//# sourceMappingURL=nanoclamp.mjs.map\n","'use strict'\nmodule.exports = hostname => require('./ipv4')(hostname) || require('./ipv6')(hostname)\n","'use strict'\n\nconst IP_RANGES = [\n  // 10.0.0.0 - 10.255.255.255\n  /^(:{2}f{4}:)?10(?:\\.\\d{1,3}){3}$/,\n  // 127.0.0.0 - 127.255.255.255\n  /^(:{2}f{4}:)?127(?:\\.\\d{1,3}){3}$/,\n  // 169.254.1.0 - 169.254.254.255\n  /^(::f{4}:)?169\\.254\\.([1-9]|1?\\d\\d|2[0-4]\\d|25[0-4])\\.\\d{1,3}$/,\n  // 172.16.0.0 - 172.31.255.255\n  /^(:{2}f{4}:)?(172\\.1[6-9]|172\\.2\\d|172\\.3[01])(?:\\.\\d{1,3}){2}$/,\n  // 192.168.0.0 - 192.168.255.255\n  /^(:{2}f{4}:)?192\\.168(?:\\.\\d{1,3}){2}$/,\n  // fc00::/7\n  /^f[cd][\\da-f]{2}(::1$|:[\\da-f]{1,4}){1,7}$/,\n  // fe80::/10s\n  /^fe[89ab][\\da-f](::1$|:[\\da-f]{1,4}){1,7}$/,\n  // localhost in IPv4\n  /^localhost$|^0\\.0\\.0\\.0$/\n]\n\nconst regex = new RegExp(`^(${IP_RANGES.map(re => re.source).join('|')})$`)\n\nmodule.exports = regex.test.bind(regex)\nmodule.exports.regex = regex\n","'use strict'\n\nconst IP_RANGES = [\n  // localhost in IPv6\n  /^\\[(::1|::)\\]$/\n]\n\nconst regex = new RegExp(`^(${IP_RANGES.map(re => re.source).join('|')})$`)\n\nmodule.exports = regex.test.bind(regex)\nmodule.exports.regex = regex\n","import { fetchFromApi, getApiUrl as createApiUrl } from '@microlink/mql'\nimport isLocalAddress from 'is-local-address'\nimport { css } from 'styled-components'\n\nexport const isSSR = typeof window === 'undefined'\n\nexport const castArray = value => [].concat(value)\n\nexport const getPreferredMedia = (data, mediaProps) => {\n  let prefer\n\n  for (let index = 0; index < mediaProps.length; index++) {\n    const key = mediaProps[index]\n    const value = data[key]\n    if (!isNil(value)) {\n      prefer = key\n      break\n    }\n  }\n\n  return prefer\n}\n\nexport const isFunction = fn => typeof fn === 'function'\n\nexport const isObject = obj => typeof obj === 'object'\n\nexport const isNil = value => value == null\n\nexport const getUrlPath = data => (isObject(data) ? data.url : data)\n\nexport const someProp = (data, props) =>\n  data[props.find(prop => !isNil(data[prop]))]\n\nexport const media = {\n  mobile: (...args) => css`\n    @media (max-width: 48em) {\n      ${css(...args)};\n    }\n  `,\n  desktop: (...args) => css`\n    @media (min-width: 48em) {\n      ${css(...args)};\n    }\n  `\n}\n\nexport const getApiUrl = ({\n  apiKey,\n  contrast = false,\n  data,\n  endpoint,\n  force,\n  headers,\n  media,\n  prerender,\n  proxy,\n  ttl,\n  url\n}) =>\n  createApiUrl(url, {\n    apiKey,\n    audio: media.includes('audio'),\n    data,\n    endpoint,\n    force,\n    headers,\n    iframe: media.includes('iframe'),\n    palette: contrast,\n    prerender,\n    proxy,\n    screenshot: media.includes('screenshot'),\n    ttl,\n    video: media.includes('video')\n  })\n\nexport { fetchFromApi }\n\nexport const isLarge = cardSize => cardSize === 'large'\n\nexport const isSmall = cardSize => cardSize === 'small'\n\nexport const imageProxy = url =>\n  isLocalAddress(new URL(url).hostname)\n    ? url\n    : `https://images.weserv.nl/?${new URLSearchParams({\n      url,\n      default: url,\n      l: 9,\n      af: '',\n      il: '',\n      n: -1\n    }).toString()}`\n\nexport const isLazySupported = !isSSR && 'IntersectionObserver' in window\n\nexport const formatSeconds = secs => {\n  const secsToNum = parseInt(secs, 10)\n  const hours = Math.floor(secsToNum / 3600)\n  const minutes = Math.floor(secsToNum / 60) % 60\n  const seconds = secsToNum % 60\n\n  return [hours, minutes, seconds]\n    .filter((v, i) => v > 0 || i > 0)\n    .map(v => (v >= 10 ? v : `0${v}`))\n    .join(':')\n}\n\nexport const clampNumber = (num, min, max) => {\n  switch (true) {\n    case num <= min:\n      return min\n    case num >= max:\n      return max\n    default:\n      return num\n  }\n}\n\nconst BASE_CLASSNAME = 'microlink_card'\nconst CONTENT_BASE_CLASSNAME = `${BASE_CLASSNAME}__content`\nconst MEDIA_BASE_CLASSNAME = `${BASE_CLASSNAME}__media`\nconst CONTROLS_BASE_CLASSNAME = `${MEDIA_BASE_CLASSNAME}__controls`\n\nexport const classNames = {\n  main: BASE_CLASSNAME,\n  content: CONTENT_BASE_CLASSNAME,\n  title: `${CONTENT_BASE_CLASSNAME}_title`,\n  description: `${CONTENT_BASE_CLASSNAME}_description`,\n  url: `${CONTENT_BASE_CLASSNAME}_url`,\n  mediaWrapper: `${MEDIA_BASE_CLASSNAME}_wrapper`,\n  media: MEDIA_BASE_CLASSNAME,\n  image: `${MEDIA_BASE_CLASSNAME}_image`,\n  videoWrapper: `${MEDIA_BASE_CLASSNAME}_video_wrapper`,\n  video: `${MEDIA_BASE_CLASSNAME}_video`,\n  audioWrapper: `${MEDIA_BASE_CLASSNAME}_audio_wrapper`,\n  audio: `${MEDIA_BASE_CLASSNAME}_audio`,\n  mediaControls: CONTROLS_BASE_CLASSNAME,\n  playbackControl: `${CONTROLS_BASE_CLASSNAME}_playback`,\n  volumeControl: `${CONTROLS_BASE_CLASSNAME}_volume`,\n  rwControl: `${CONTROLS_BASE_CLASSNAME}_rewind`,\n  ffwControl: `${CONTROLS_BASE_CLASSNAME}_fast_forward`,\n  rateControl: `${CONTROLS_BASE_CLASSNAME}_rate`,\n  progressBar: `${CONTROLS_BASE_CLASSNAME}_progress_bar`,\n  progressTime: `${CONTROLS_BASE_CLASSNAME}_progress_time`,\n  spinner: `${CONTROLS_BASE_CLASSNAME}_spinner`,\n  iframe: `${BASE_CLASSNAME}__iframe`\n}\n","/* eslint-disable multiline-ternary */\n\nimport React from 'react'\nimport { styled, css } from 'styled-components'\nimport NanoClamp from 'nanoclamp'\n\nimport { isNil } from '../../utils'\n\nconst Clamp = ({ children, className, lines }) =>\n  isNil(children) ? null : (\n    <NanoClamp className={className} lines={lines} text={children} is='p' />\n  )\n\nconst StyledClamp = styled(Clamp)`\n  &&& {\n    text-align: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    color: inherit;\n    margin: 0;\n\n    ${({ $useNanoClamp }) =>\n      !$useNanoClamp &&\n      css`\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      `}\n  }\n`\n\nconst CardText = ({ useNanoClamp = true, children, ...props }) => {\n  const textProps = useNanoClamp\n    ? props\n    : { ...props, as: 'p', title: children }\n\n  return (\n    <StyledClamp $useNanoClamp={useNanoClamp} {...textProps}>\n      {children}\n    </StyledClamp>\n  )\n}\n\nexport default CardText\n","export const speed = {\n  short: '100ms',\n  medium: '150ms',\n  long: '300ms'\n}\n\nexport const animation = {\n  short: 'cubic-bezier(.25,.8,.25,1)',\n  medium: 'cubic-bezier(.25,.8,.25,1)',\n  long: 'cubic-bezier(.4, 0, .2, 1)'\n}\n\nconst createTransition = (properties, s) => {\n  const suffix = `${speed[s]} ${animation[s]}`\n  return properties.map(property => `${property} ${suffix}`).join(', ')\n}\n\nexport const transition = {\n  short: (...properties) => createTransition(properties, 'short'),\n  medium: (...properties) => createTransition(properties, 'medium'),\n  long: (...properties) => createTransition(properties, 'long')\n}\n\n// https://primer.style/design/foundations/typography\nexport const font = {\n  sans: \"InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif\",\n  mono: \"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace\"\n}\n","import React, { useCallback, useMemo, useState } from 'react'\n\nconst initialState = {}\n\nexport const GlobalContext = React.createContext(initialState)\n\nconst GlobalState = ({\n  autoPlay,\n  children,\n  controls,\n  loop,\n  mediaRef,\n  muted,\n  playsInline,\n  size,\n  ...rest\n}) => {\n  const [state, setState] = useState(initialState)\n\n  const updateState = useCallback(\n    newState => setState(currentState => ({ ...currentState, ...newState })),\n    []\n  )\n\n  const props = useMemo(\n    () => ({\n      autoPlay,\n      controls,\n      loop,\n      mediaRef,\n      muted,\n      playsInline,\n      size\n    }),\n    [autoPlay, controls, loop, mediaRef, muted, playsInline, size]\n  )\n\n  const values = useMemo(\n    () => ({\n      props,\n      state,\n      updateState\n    }),\n    [props, state, updateState]\n  )\n\n  return (\n    <GlobalContext.Provider value={values}>\n      {children(rest)}\n    </GlobalContext.Provider>\n  )\n}\n\nexport default GlobalState\n","/* global URL */\n\nimport React, { useCallback, useMemo, useContext } from 'react'\nimport { styled, css } from 'styled-components'\nimport CardText from './CardText'\n\nimport { transition } from '../../theme'\nimport { classNames, media, isLarge, isSmall, isNil } from '../../utils'\nimport { GlobalContext } from '../../context/GlobalState'\n\nconst REGEX_STRIP_WWW = /^www\\./\nconst BADGE_WIDTH = '16px'\nconst BADGE_HEIGHT = '12px'\n\nconst getHostname = href => {\n  if (isNil(href)) return ''\n  const { hostname } = new URL(href)\n  return hostname.replace(REGEX_STRIP_WWW, '')\n}\n\nconst mobileDescriptionStyle = css`\n  ${media.mobile`\n    > p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  `};\n`\n\nexport const Content = styled('div').attrs({ className: classNames.content })`\n  display: flex;\n  padding: 10px 15px;\n  min-width: 0;\n  box-sizing: border-box;\n  ${({ $cardSize }) => css`\n    flex: ${!isLarge($cardSize) ? 1 : '0 0 125px'};\n    justify-content: ${!isSmall($cardSize) ? 'space-around' : 'space-between'};\n    flex-direction: ${!isSmall($cardSize) ? 'column' : 'row'};\n    align-items: ${!isSmall($cardSize) ? 'stretch' : 'center'};\n  `};\n`\n\nconst Header = styled('header').attrs({ className: classNames.title })`\n  text-align: left;\n  font-weight: bold;\n  margin: 0;\n  width: 100%;\n  ${({ $cardSize }) => css`\n    flex-grow: ${!isSmall($cardSize) ? 1.2 : 0.8};\n    font-size: ${!isSmall($cardSize) ? '16px' : '15px'};\n\n    ${isSmall($cardSize) &&\n    css`\n      min-width: 0;\n      padding-right: 14px;\n    `}\n  `}\n`\n\nconst Description = styled('div').attrs({ className: classNames.description })`\n  text-align: left;\n  font-size: 14px;\n  flex-grow: 2;\n  margin: auto 0;\n  line-height: 18px;\n  font-weight: normal;\n  ${({ $cardSize }) => !isLarge($cardSize) && mobileDescriptionStyle};\n`\n\nconst Footer = styled('footer').attrs({ className: classNames.url })`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n  margin: 0;\n  flex-grow: 0;\n  font-weight: normal;\n  ${({ $cardSize }) => css`\n    font-size: ${!isSmall($cardSize) ? '12px' : '10px'};\n    ${!isSmall($cardSize) && 'width: 100%;'}\n  `};\n`\n\nconst Author = styled(CardText)`\n  opacity: 0.75;\n  transition: ${transition.medium('opacity')};\n  will-change: opacity;\n\n  .${classNames.main}:hover & {\n    opacity: 1;\n  }\n`\n\nconst PoweredBy = styled('span').attrs({ title: 'microlink.io' })`\n  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center\n    center;\n  display: block;\n  margin-left: 15px;\n  transition: ${transition.medium('filter', 'opacity')};\n  will-change: filter, opacity;\n  &:not(:hover) {\n    filter: grayscale(100%);\n    opacity: 0.75;\n  }\n\n  min-width: ${BADGE_WIDTH};\n  width: ${BADGE_WIDTH};\n  background-size: ${BADGE_WIDTH};\n  height: ${BADGE_HEIGHT};\n`\n\nconst CardContent = () => {\n  const {\n    state: { description, title, url },\n    props: { size }\n  } = useContext(GlobalContext)\n  const isSmallCard = isSmall(size)\n  const formattedUrl = useMemo(() => getHostname(url), [url])\n  const handleOnClick = useCallback(e => {\n    e.preventDefault()\n    window.open('https://www.microlink.io', '_blank')\n  }, [])\n\n  return (\n    <Content $cardSize={size}>\n      <Header $cardSize={size}>\n        <CardText $useNanoClamp={false}>{title}</CardText>\n      </Header>\n      {!isSmallCard && (\n        <Description $cardSize={size}>\n          <CardText lines={2}>{description}</CardText>\n        </Description>\n      )}\n      <Footer $cardSize={size}>\n        <Author $useNanoClamp={false}>{formattedUrl}</Author>\n        <PoweredBy onClick={handleOnClick} />\n      </Footer>\n    </Content>\n  )\n}\n\nexport default CardContent\n","import { css, keyframes } from 'styled-components'\n\nconst emptyStatePulse = keyframes`\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #cdd4d8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n`\nconst emptyStateImagePulse = keyframes`\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #dce3e8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n`\n\nexport const emptyStateAnimation = css`\n  animation: ${emptyStatePulse} .75s linear infinite;\n`\n\nexport const emptyStateImageAnimation = css`\n  animation: ${emptyStateImagePulse} 1.25s linear infinite;\n`\n","import { styled, css } from 'styled-components'\nimport { transition } from '../../../theme'\n\nexport const ImageLoadCatcher = styled('img')`\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  z-index: -1;\n`\n\nexport const loadingOverlay = css`\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background: #e1e8ed;\n    z-index: 1;\n    transition: ${transition.medium('opacity', 'visibility')};\n    will-change: opacity;\n\n    ${({ $isLoading }) => css`\n      opacity: ${$isLoading ? 1 : 0};\n      visibility: ${$isLoading ? '$visible' : 'hidden'};\n    `};\n  }\n`\n","import React, { useContext } from 'react'\nimport { styled, css } from 'styled-components'\n\nimport { GlobalContext } from '../../../context/GlobalState'\nimport { media } from '../../../utils'\nimport { loadingOverlay } from './loader'\n\nconst mediaSizeStyles = {\n  small: css`\n    flex: 0 0 48px;\n  `,\n  normal: css`\n    flex: 0 0 125px;\n\n    ${media.mobile`\n      flex: 0 0 92px;\n    `}\n  `,\n  large: css`\n    flex: 1;\n\n    &::before {\n      padding-bottom: 0;\n    }\n  `\n}\n\nconst StyledWrap = styled('div')`\n  background: transparent no-repeat center center / cover;\n  display: block;\n  overflow: hidden;\n  height: auto;\n  position: relative;\n\n  &::before {\n    content: '';\n    padding-bottom: 100%;\n    display: block;\n  }\n\n  ${({ $cardSize }) => mediaSizeStyles[$cardSize]};\n\n  ${loadingOverlay};\n`\n\nconst Wrap = props => {\n  const {\n    props: { size }\n  } = useContext(GlobalContext)\n\n  return <StyledWrap $cardSize={size} {...props} />\n}\n\nexport default Wrap\n","import React, { useContext } from 'react'\nimport { styled } from 'styled-components'\n\nimport Wrap from './Wrap'\nimport { GlobalContext } from '../../../context/GlobalState'\nimport { classNames, imageProxy } from '../../../utils'\n\nconst ImageWrap = styled(Wrap).attrs({\n  className: `${classNames.media} ${classNames.image}`\n})`\n  background-image: ${({ url }) => (url ? `url('${imageProxy(url)}')` : '')};\n`\n\nconst ImageComponent = props => {\n  const {\n    state: { imageUrl }\n  } = useContext(GlobalContext)\n\n  return <ImageWrap url={imageUrl} {...props} />\n}\n\nexport default ImageComponent\n","/* eslint-disable multiline-ternary */\n\nimport React, { useContext } from 'react'\nimport { styled } from 'styled-components'\n\nimport { emptyStateAnimation, emptyStateImageAnimation } from './CardAnimation'\nimport CardImage from './CardMedia/Image'\nimport { Content } from './CardContent'\nimport { GlobalContext } from '../../context/GlobalState'\nimport { isLarge, isSmall } from '../../utils'\n\nconst MediaEmpty = styled(CardImage)`\n  ${emptyStateImageAnimation};\n`\n\nconst HeaderEmpty = styled('span')`\n  opacity: 0.8;\n  height: 16px;\n  width: ${({ $cardSize }) => (!isSmall($cardSize) ? '60%' : '75%')};\n  display: block;\n  background: #e1e8ed;\n  margin: ${({ $cardSize }) =>\n    !isSmall($cardSize) ? '2px 0 8px' : '0 20px 0 0'};\n  ${emptyStateAnimation};\n\n  ${({ $cardSize }) =>\n    !isLarge($cardSize) &&\n    `\n    height: 15px;\n  `};\n`\n\nconst DescriptionEmpty = styled('span')`\n  opacity: 0.8;\n  height: 14px;\n  width: 95%;\n  display: block;\n  position: relative;\n  ${emptyStateAnimation};\n  animation-delay: 0.125s;\n`\n\nconst FooterEmpty = styled('span')`\n  opacity: 0.8;\n  height: 12px;\n  width: 30%;\n  display: block;\n  ${emptyStateAnimation} animation-delay: .25s;\n\n  ${({ $cardSize }) =>\n    !isLarge($cardSize) &&\n    `\n    height: 10px;\n  `};\n`\n\nconst CardEmptyState = () => {\n  const {\n    props: { size }\n  } = useContext(GlobalContext)\n  const isSmallCard = isSmall(size)\n\n  return (\n    <>\n      <MediaEmpty $cardSize={size} />\n      <Content $cardSize={size}>\n        <HeaderEmpty $cardSize={size} />\n        {!isSmallCard ? (\n          <>\n            <DescriptionEmpty $cardSize={size} />\n            <DescriptionEmpty\n              $cardSize={size}\n              style={{ marginBottom: '12px' }}\n            />\n          </>\n        ) : null}\n        <FooterEmpty />\n      </Content>\n    </>\n  )\n}\n\nexport default CardEmptyState\n","import { styled } from 'styled-components'\nimport { transition } from '../../../../theme'\n\nconst MediaButton = styled('div')`\n  backface-visibility: hidden;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\n  transition: ${transition.short('transform')};\n  will-change: transform;\n\n  > svg {\n    display: block;\n  }\n\n  &:active:not(:focus) {\n    transform: scale(0.9);\n  }\n`\n\nexport default MediaButton\n","import React, { useMemo } from 'react'\nimport { styled } from 'styled-components'\n\nimport MediaButton from './MediaButton'\nimport { classNames, media, isLarge } from '../../../../utils'\nimport { font, transition } from '../../../../theme'\n\nconst VolumeMute = props => (\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 14' {...props}>\n    <path\n      fill='#FFF'\n      fillRule='evenodd'\n      stroke='none'\n      strokeWidth='1'\n      d='M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z'\n      transform='translate(-1 -1)'\n    />\n  </svg>\n)\n\nconst VolumeUp = props => (\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 14' {...props}>\n    <path\n      fill='#FFF'\n      fillRule='evenodd'\n      stroke='none'\n      strokeWidth='1'\n      d='M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z'\n      transform='translate(-1 -1)'\n    />\n  </svg>\n)\n\nconst BottomControls = styled('div')`\n  z-index: 2;\n  position: absolute;\n  bottom: ${({ $cardSize }) => (isLarge($cardSize) ? 18 : 14)}px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: ${transition.medium('opacity')};\n  will-change: opacity;\n`\n\nconst VolumeIcon = styled('svg')`\n  stroke: #fff;\n`\n\nconst VolumeButton = styled(MediaButton).attrs({\n  className: classNames.volumeControl\n})`\n  ${VolumeIcon} {\n    width: ${({ $cardSize }) => (isLarge($cardSize) ? 16 : 14)}px;\n    height: ${({ $cardSize }) => (isLarge($cardSize) ? 16 : 14)}px;\n\n    ${({ $cardSize }) =>\n      !isLarge($cardSize) &&\n      media.mobile`\n      width: 12px;\n      height: 12px;\n    `}\n  }\n`\n\nconst PlaybackRateButton = styled(MediaButton).attrs({\n  className: classNames.rateControl\n})`\n  font-size: ${({ $cardSize }) => (isLarge($cardSize) ? 12 : 10)}px;\n  min-width: ${({ $cardSize }) => (isLarge($cardSize) ? 33 : 28)}px;\n  line-height: 1;\n  font-weight: bold;\n  border: 1.5px solid #fff;\n  border-radius: 9999px;\n  padding: 1px 5px;\n  text-align: center;\n  color: #fff;\n  margin-left: 10px;\n\n  ${({ $cardSize }) =>\n    !isLarge($cardSize) &&\n    media.mobile`\n    font-size: 8px;\n    margin-left: 8px;\n    min-width: 23px;\n  `}\n`\n\nconst TimeLabel = styled('span').attrs({ className: classNames.progressTime })`\n  margin: ${({ $right }) => (!$right ? '0 auto 0 0' : '0 0 0 auto')};\n  font-family: ${font.mono};\n  font-size: 12px;\n  padding: 0 16px;\n  color: #fff;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n`\n\nconst FooterControls = ({\n  $cardSize,\n  currentTime,\n  endTime,\n  isMuted,\n  onMuteClick,\n  onPlaybackRateClick,\n  playbackRate\n}) => {\n  const VolumeComponent = useMemo(\n    () => (isMuted ? VolumeMute : VolumeUp),\n    [isMuted]\n  )\n  const isLargeCard = useMemo(() => isLarge($cardSize), [$cardSize])\n\n  return (\n    <BottomControls $cardSize={$cardSize}>\n      {isLargeCard && <TimeLabel>{currentTime}</TimeLabel>}\n\n      <VolumeButton\n        title={isMuted ? 'Unmute' : 'Mute'}\n        $cardSize={$cardSize}\n        onClick={onMuteClick}\n      >\n        <VolumeIcon as={VolumeComponent} />\n      </VolumeButton>\n\n      <PlaybackRateButton\n        title='Playback Rate'\n        $cardSize={$cardSize}\n        onClick={onPlaybackRateClick}\n      >\n        <span>{playbackRate}x</span>\n      </PlaybackRateButton>\n\n      {isLargeCard && <TimeLabel $right>{endTime}</TimeLabel>}\n    </BottomControls>\n  )\n}\n\nexport default FooterControls\n","import React, { useMemo } from 'react'\nimport { styled, css } from 'styled-components'\n\nimport MediaButton from './MediaButton'\nimport { classNames, isSmall, isLarge, media } from '../../../../utils'\n\nconst Pause = props => (\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 20' {...props}>\n    <path\n      fill='#FFF'\n      fillRule='evenodd'\n      stroke='none'\n      strokeWidth='1'\n      d='M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z'\n      transform='translate(-8 -6)'\n    />\n  </svg>\n)\n\nconst Play = props => (\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 21 24' {...props}>\n    <path\n      fill='#FFF'\n      fillRule='evenodd'\n      stroke='none'\n      strokeWidth='1'\n      d='M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z'\n      transform='translate(-6 -4)'\n    />\n  </svg>\n)\n\nconst iconSizes = {\n  large: '50px',\n  normal: '35px',\n  small: '20px'\n}\n\nconst PlaybackIcon = styled('svg')`\n  stroke: #fff;\n`\n\nconst PlaybackButtonWrap = styled(MediaButton).attrs({\n  className: classNames.playbackControl\n})`\n  ${PlaybackIcon} {\n    ${({ $cardSize }) => css`\n      width: ${iconSizes[$cardSize]};\n      height: ${iconSizes[$cardSize]};\n      padding: ${isLarge($cardSize) ? 0 : '8px'};\n\n      ${!isLarge($cardSize) &&\n      !isSmall($cardSize) &&\n      media.mobile`\n        width: calc(${iconSizes.small} * 1.2);\n        height: calc(${iconSizes.small} * 1.2);\n      `}\n    `}\n  }\n`\n\nconst PlaybackButton = ({ $isPlaying, ...props }) => {\n  const PlaybackComponent = useMemo(\n    () => ($isPlaying ? Pause : Play),\n    [$isPlaying]\n  )\n\n  return (\n    <PlaybackButtonWrap title={$isPlaying ? 'Pause' : 'Play'} {...props}>\n      <PlaybackIcon as={PlaybackComponent} />\n    </PlaybackButtonWrap>\n  )\n}\n\nexport default PlaybackButton\n","import { styled, css } from 'styled-components'\n\nimport { transition } from '../../../../../theme'\n\nconst SCRUBBER_SIZE = 12\n\nconst scrubberSizeScales = { normal: 0.8, small: 0.9 }\n\nconst getScrubberSize = size =>\n  Math.floor(SCRUBBER_SIZE * (scrubberSizeScales[size] || 1))\n\nconst Scrubber = styled('div').attrs(({ $isVisible, $positionX }) => ({\n  style: {\n    left: $positionX,\n    transform: `scale(${$isVisible ? 1 : 0.5}) translate(-50%, -50%)`,\n    opacity: $isVisible ? 1 : 0,\n    visibility: $isVisible ? '$visible' : 'hidden'\n  }\n}))`\n  position: absolute;\n  top: 50%;\n  background: #ffffff;\n  border-radius: 50%;\n  transform-origin: center center;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  transition: ${transition.short('transform', 'opacity', 'visibility')};\n  will-change: left, transform, opacity, visibility;\n  backface-visibility: hidden;\n  z-index: 3;\n\n  ${({ $cardSize }) => {\n    const scrubberSize = getScrubberSize($cardSize)\n    return css`\n      height: ${scrubberSize}px;\n      width: ${scrubberSize}px;\n    `\n  }}\n`\n\nexport default Scrubber\n","import React, { forwardRef } from 'react'\nimport { styled } from 'styled-components'\n\nimport { font, transition } from '../../../../../theme'\n\nconst BASE_FONT_SIZE = 11\n\nconst sizeScales = { normal: 0.8 }\nconst getMarkerFontSize = size => BASE_FONT_SIZE * (sizeScales[size] || 1)\n\nconst TooltipBase = styled('span').attrs(\n  ({ $position, $isDragging, $visible }) => ({\n    style: {\n      left: `${$position}px`,\n      top: $visible ? '-4px' : '0px',\n      visibility: $visible ? '$visible' : 'hidden',\n      opacity: $visible ? 1 : 0,\n      transform: `translate(-50%, ${!$isDragging ? -100 : -110}%)`\n    }\n  })\n)`\n  position: absolute;\n  background: rgba(24, 25, 25, 0.75);\n  color: #fff;\n  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);\n  padding: 2px 3px;\n  border-radius: 4px;\n  font-family: ${font.mono};\n  font-size: ${({ $cardSize }) => getMarkerFontSize($cardSize)}px;\n  line-height: 1;\n  transition: ${transition.medium('opacity', 'visibility', 'transform')},\n    ${transition.long('top')};\n  will-change: top, left, visibility, opacity, transform;\n  backface-visibility: hidden;\n`\n\nconst Tooltip = forwardRef(\n  ({ $isDragging, $isVisible, label, $positionX, size, ...props }, ref) => (\n    <>\n      <TooltipBase\n        $visible={$isVisible}\n        $position={$positionX}\n        $cardSize={size}\n        ref={ref}\n        $isDragging={$isDragging}\n        {...props}\n      >\n        {label}\n      </TooltipBase>\n    </>\n  )\n)\n\nTooltip.displayName = 'Tooltip'\n\nexport default Tooltip\n","import React, { useCallback, useContext, useMemo, useRef } from 'react'\nimport { styled, css } from 'styled-components'\n\nimport { transition } from '../../../../../theme'\nimport {\n  clampNumber,\n  classNames,\n  formatSeconds,\n  isSmall\n} from '../../../../../utils'\nimport { GlobalContext } from '../../../../../context/GlobalState'\n\nimport Scrubber from './Scrubber'\nimport Tooltip from './Tooltip'\n\nconst HEIGHT = 6\nconst PADDING = 6\n\nconst heightScales = { normal: 0.7, small: 0.6 }\nconst activeHeightScales = { small: 0.9, large: 1.4 }\n\nconst getProgressBarHeight = size =>\n  Math.floor(HEIGHT * (heightScales[size] || 1))\n\nconst getProgressBarActiveHeight = size =>\n  Math.floor(HEIGHT * (activeHeightScales[size] || 1))\n\nconst OuterWrap = styled('div').attrs(() => ({\n  className: classNames.progressBar\n}))`\n  position: relative;\n  padding: ${PADDING}px ${PADDING / 2}px ${PADDING / 2}px;\n  z-index: 2;\n  backface-visibility: hidden;\n`\n\nconst BarsWrap = styled('div').attrs(({ $cardSize, $isDragging }) => {\n  if ($isDragging) {\n    const activeHeight = getProgressBarActiveHeight($cardSize)\n\n    return {\n      style: {\n        height: `${activeHeight}px`\n      }\n    }\n  }\n\n  return {}\n})`\n  background: transparent;\n  border-radius: 9999px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  background: rgba(255, 255, 255, 0.15);\n  transition: ${transition.short('height')};\n  will-change: height;\n  pointer-events: none;\n  position: relative;\n\n  ${({ $cardSize }) => {\n    const height = getProgressBarHeight($cardSize)\n    const activeHeight = getProgressBarActiveHeight($cardSize)\n\n    return css`\n      height: ${height}px;\n\n      ${OuterWrap}:hover & {\n        height: ${activeHeight}px;\n      }\n    `\n  }}\n`\n\nconst ProgressLine = styled('div')`\n  border-radius: inherit;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n`\n\nconst ProgressMask = styled('div').attrs(({ $maskScale }) => ({\n  style: {\n    transform: `scaleX(${$maskScale})`\n  }\n}))`\n  position: absolute;\n  left: 0;\n  top: -50%;\n  height: 200%;\n  width: 100%;\n  background: #ffffff;\n  transform-origin: left center;\n  will-change: transform;\n`\n\nconst ProgressHover = styled('div').attrs(\n  ({ $cursorRatio, $isHovering, $progressPercent }) => ({\n    style: {\n      left: $progressPercent,\n      transform: `scaleX(${$cursorRatio})`,\n      opacity: $isHovering ? 1 : 0,\n      visibility: $isHovering ? '$visible' : 'hidden'\n    }\n  })\n)`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  transform-origin: left center;\n  transition: ${transition.short('opacity', 'visibility')};\n  will-change: left, transform, opacity, $visible;\n`\n\nconst BufferedChunk = styled('div').attrs(({ start, end }) => ({\n  style: {\n    left: `${start}px`,\n    right: `${end}px`\n  }\n}))`\n  background: rgba(255, 255, 255, 0.35);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n`\n\nconst ProgressBar = ({\n  bufferedMedia,\n  cursorX,\n  duration,\n  hoveredTime,\n  $isDragging,\n  $isHovering,\n  onClick,\n  onMouseDown,\n  onMouseOver,\n  progress,\n  showTooltip\n}) => {\n  const {\n    props: { size }\n  } = useContext(GlobalContext)\n  const wrapRef = useRef()\n  const tooltipRef = useRef()\n\n  const isSmallCard = useMemo(() => isSmall(size), [size])\n\n  const getWrapWidth = useCallback(() => {\n    if (wrapRef.current) {\n      return wrapRef.current.getBoundingClientRect().width - PADDING\n    }\n\n    return 0\n  }, [])\n\n  const progressRatio = useMemo(\n    () => clampNumber(progress / duration, 0, 1),\n    [duration, progress]\n  )\n\n  const $progressPercent = useMemo(\n    () => `${clampNumber(progressRatio * 100, 1, 99)}%`,\n    [progressRatio]\n  )\n\n  const $cursorRatio = useMemo(() => {\n    if (wrapRef.current) {\n      const wrapWidth = getWrapWidth()\n      const startPoint = progressRatio * wrapWidth\n      const cursorPosition = cursorX - startPoint\n      const width = wrapWidth - startPoint\n\n      if (cursorPosition > 0) {\n        return clampNumber((cursorPosition / width).toFixed(3), 0, 0.99)\n      }\n    }\n\n    return 0\n  }, [cursorX, getWrapWidth, progressRatio])\n\n  const bufferedMediaChunks = useMemo(() => {\n    const wrapWidth = getWrapWidth()\n\n    return bufferedMedia.map((chunk, key) => {\n      const start = chunk.start * wrapWidth\n      const end = wrapWidth - chunk.end * wrapWidth\n\n      return { key, start, end }\n    })\n  }, [bufferedMedia, getWrapWidth])\n\n  const tooltipLabel = useMemo(() => formatSeconds(hoveredTime), [hoveredTime])\n\n  const tooltipPositionX = useMemo(() => {\n    if (wrapRef.current && tooltipRef.current) {\n      const wrapWidth = getWrapWidth()\n      const tooltipWidth = tooltipRef.current.getBoundingClientRect().width\n      const tooltipHalf = tooltipWidth / 2\n\n      return clampNumber(cursorX, tooltipHalf, wrapWidth - tooltipHalf)\n    }\n\n    return 0\n  }, [cursorX, getWrapWidth])\n\n  const mouseEvents = useMemo(\n    () => ({\n      onClick,\n      onMouseDown,\n      onMouseOver\n    }),\n    [onClick, onMouseDown, onMouseOver]\n  )\n\n  const showAccessories = useMemo(\n    () => $isDragging || $isHovering,\n    [$isDragging, $isHovering]\n  )\n\n  return (\n    <OuterWrap $cardSize={size} ref={wrapRef} {...mouseEvents}>\n      <BarsWrap $cardSize={size} $isDragging={$isDragging}>\n        <ProgressLine>\n          <ProgressHover\n            $cursorRatio={$cursorRatio}\n            $isHovering={$isHovering}\n            $progressPercent={$progressPercent}\n          />\n\n          {bufferedMediaChunks.map(({ key, ...chunk }) => (\n            <BufferedChunk key={key} {...chunk} />\n          ))}\n\n          <ProgressMask $maskScale={progressRatio} />\n        </ProgressLine>\n\n        <Scrubber\n          $cardSize={size}\n          $isVisible={showAccessories}\n          $positionX={$progressPercent}\n        />\n\n        {!isSmallCard && (\n          <Tooltip\n            $isDragging={$isDragging}\n            $isVisible={showAccessories}\n            label={tooltipLabel}\n            $positionX={tooltipPositionX}\n            ref={tooltipRef}\n            size={size}\n          />\n        )}\n      </BarsWrap>\n    </OuterWrap>\n  )\n}\n\nexport default ProgressBar\n","import React, { useMemo } from 'react'\nimport { styled } from 'styled-components'\n\nimport MediaButton from './MediaButton'\nimport { media, isLarge } from '../../../../utils'\n\nconst Backward = ({ $cardSize, ...props }) => (\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 29' {...props}>\n    <path\n      fill='#FFF'\n      fillRule='evenodd'\n      stroke='none'\n      strokeWidth='1'\n      d='M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z'\n      transform='translate(-4 -1)'\n    />\n  </svg>\n)\n\nconst Forward = ({ $cardSize, ...props }) => (\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 29' {...props}>\n    <path\n      fill='#FFF'\n      fillRule='evenodd'\n      stroke='none'\n      strokeWidth='1'\n      d='M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z'\n      transform='translate(-4 -1)'\n    />\n  </svg>\n)\n\nconst SeekIcon = styled('svg')`\n  stroke: #fff;\n  width: ${({ $cardSize }) => (isLarge($cardSize) ? 30 : 24)}px;\n  height: ${({ $cardSize }) => (isLarge($cardSize) ? 30 : 24)}px;\n\n  ${({ $cardSize }) =>\n    !isLarge($cardSize) &&\n    media.mobile`\n    width: 0;\n    height: 0;\n  `}\n`\n\nconst SeekButtonWrap = styled(MediaButton)`\n  margin: 0 ${({ $cardSize }) => (isLarge($cardSize) ? '28px' : '3px')};\n`\n\nconst SeekButton = ({ type = 'rewind', $cardSize, ...props }) => {\n  const IconComponent = useMemo(\n    () => (type === 'rewind' ? Backward : Forward),\n    [type]\n  )\n\n  return (\n    <SeekButtonWrap\n      title={type === 'rewind' ? 'Rewind' : 'Forward'}\n      $cardSize={$cardSize}\n      {...props}\n    >\n      <SeekIcon as={IconComponent} $cardSize={$cardSize} />\n    </SeekButtonWrap>\n  )\n}\n\nexport default SeekButton\n","import React from 'react'\nimport { styled, css, keyframes } from 'styled-components'\n\nimport { transition } from '../../../../theme'\nimport { classNames } from '../../../../utils'\n\nimport MediaButton from './MediaButton'\n\nconst BASE_SIZE = 12\nconst BASE_OFFSET = 6\n\nconst offsetScales = { normal: 0.8, small: 0.6 }\nconst sizeScales = { normal: 0.9, small: 0.8 }\n\nconst getSpinnerOffset = size =>\n  Math.floor(BASE_OFFSET * (offsetScales[size] || 1))\n\nconst getSpinnerSize = size => Math.floor(BASE_SIZE * (sizeScales[size] || 1))\n\nconst rotate = keyframes`\n  100% {\n    transform: rotate(360deg);\n  }\n`\n\nconst dash = keyframes`\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n`\n\nconst Wrap = styled(MediaButton).attrs(({ $isVisible }) => ({\n  style: {\n    opacity: $isVisible ? 1 : 0,\n    visibility: $isVisible ? '$visible' : 'hidden'\n  }\n}))(({ $cardSize }) => {\n  const size = `${getSpinnerSize($cardSize)}px`\n  const offset = `${getSpinnerOffset($cardSize)}px`\n\n  return css`\n    position: absolute;\n    width: ${size};\n    right: ${offset};\n    top: ${offset};\n    transition: ${transition.medium('opacity', 'visibility')};\n    will-change: opacity, visibility;\n    pointer-events: none;\n  `\n})\n\nconst Svg = styled('svg')`\n  width: 100%;\n  animation: ${rotate} 2s linear infinite;\n  will-change: transform;\n`\n\nconst Circle = styled('circle')`\n  stroke: #fff;\n  stroke-linecap: round;\n  stroke-width: 7;\n  fill: none;\n  animation: ${dash} 1.5s ease-in-out infinite;\n  will-change: stroke-dasharray, stroke-dashoffset;\n`\n\nconst Spinner = ({ size, $isVisible }) => (\n  <Wrap $cardSize={size} className={classNames.spinner} $isVisible={$isVisible}>\n    <Svg viewBox='0 0 50 50'>\n      <Circle cx='25' cy='25' r='20' />\n    </Svg>\n  </Wrap>\n)\n\nexport default Spinner\n","/* eslint-disable multiline-ternary */\n\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'react'\n\nimport { styled, css } from 'styled-components'\n\nimport FooterControls from './FooterControls'\nimport PlaybackButton from './PlaybackButton'\nimport ProgressBar from './ProgressBar'\nimport SeekButton from './SeekButton'\nimport Spinner from './Spinner'\nimport { transition } from '../../../../theme'\n\nimport {\n  classNames,\n  formatSeconds,\n  isSmall,\n  isFunction,\n  clampNumber\n} from '../../../../utils'\n\nimport { GlobalContext } from '../../../../context/GlobalState'\n\nconst SPACE_KEY = 32\nconst L_ARROW_KEY = 37\nconst R_ARROW_KEY = 39\nconst M_KEY = 77\n\nconst OuterWrap = styled('div').attrs({ className: classNames.mediaControls })`\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  transition: ${transition.long('background')}, ${transition.medium('opacity')};\n  will-change: background;\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  ${({ $hasInteracted, $isDragging, $isPlaying }) => {\n    const bg = 'rgba(0, 0, 0, 0.35)'\n    const dragBg = 'rgba(0, 0, 0, 0.2)'\n    const isPaused = $hasInteracted && !$isPlaying\n\n    return css`\n      .${classNames.main}:hover & {\n        background: ${!$isDragging ? bg : dragBg};\n      }\n\n      .${classNames.main}:not(:hover) & {\n        opacity: ${!$hasInteracted || isPaused ? 1 : 0};\n        ${isPaused && `background: ${bg}`};\n      }\n    `\n  }}\n`\n\nconst InnerWrap = styled('div')`\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n`\n\nconst ControlsTop = styled('div')`\n  flex: 1;\n\n  ${({ $isVisible }) =>\n    !$isVisible &&\n    css`\n      *[class*='${classNames.mediaControls}']:not(.${classNames.progressTime}) {\n        transition: ${transition.medium('opacity', 'visibility')};\n        opacity: 0;\n        visibility: hidden;\n      }\n    `}\n`\n\nconst getNextPlaybackRate = rate => {\n  switch (rate) {\n    case 1:\n      return 1.25\n    case 1.25:\n      return 1.5\n    case 1.5:\n      return 2\n    default:\n      return 1\n  }\n}\n\nconst Controls = ({ MediaComponent, mediaProps }) => {\n  const {\n    props: { autoPlay, controls, mediaRef: propRef, muted, loop, size }\n  } = useContext(GlobalContext)\n  const [duration, setDuration] = useState(0)\n  const [progress, setProgress] = useState(0)\n  const [buffered, setBuffered] = useState([])\n  const [cursorX, setCursorX] = useState(0)\n  const [hoveredTime, setHoveredTime] = useState(0)\n  const [$isPlaying, setIsPlaying] = useState(autoPlay)\n  const [isMuted, setIsMuted] = useState(muted)\n  const [isBuffering, setIsBuffering] = useState(false)\n  const [$isHovering, setIsHovering] = useState(false)\n  const [$isDragging, setIsDragging] = useState(false)\n  const [playbackRate, setPlaybackRate] = useState(1)\n  const [$hasInteracted, setHasInteracted] = useState(autoPlay)\n  const [pausedByDrag, setPausedByDrag] = useState(false)\n\n  const mediaRef = useRef()\n  const setRefs = useCallback(\n    node => {\n      mediaRef.current = node\n\n      if (propRef) {\n        if (isFunction(propRef)) {\n          propRef(node)\n        } else {\n          propRef.current = node\n        }\n      }\n    },\n    [propRef]\n  )\n\n  const isNotSmall = useMemo(() => !isSmall(size), [size])\n\n  const mediaEvents = useMemo(\n    () => ({\n      onCanPlay: () => setIsBuffering(false),\n      onLoadedMetadata: e => setDuration(e.currentTarget.duration),\n      onPause: () => setIsPlaying(false),\n      onPlay: () => setIsPlaying(true),\n      onPlaying: () => setIsBuffering(false),\n      onProgress: e => setBuffered(e.currentTarget.buffered),\n      onRateChange: e => setPlaybackRate(e.currentTarget.playbackRate),\n      onTimeUpdate: e => setProgress(e.currentTarget.currentTime),\n      onVolumeChange: e => setIsMuted(e.currentTarget.muted),\n      onWaiting: e => setIsBuffering(true)\n    }),\n    []\n  )\n\n  const evaluateCursorPosition = useCallback(event => {\n    if (mediaRef.current) {\n      const bounds = event.currentTarget.getBoundingClientRect()\n      const cursor = clampNumber(\n        Math.floor(event.clientX - bounds.left),\n        0,\n        bounds.width\n      )\n      const time = (cursor / bounds.width) * mediaRef.current.duration\n\n      return { cursor, time }\n    }\n\n    return { cursor: 0, time: 0 }\n  }, [])\n\n  const togglePlayback = useCallback(() => {\n    if (mediaRef.current) {\n      if (mediaRef.current.paused) {\n        if (!$hasInteracted) {\n          setHasInteracted(true)\n        }\n\n        mediaRef.current.play()\n      } else {\n        mediaRef.current.pause()\n      }\n    }\n  }, [$hasInteracted])\n\n  const jumpTo = useCallback(time => {\n    if (mediaRef.current) {\n      const t = clampNumber(time, 0, mediaRef.current.duration)\n\n      mediaRef.current.currentTime = t\n      setProgress(t)\n    }\n  }, [])\n\n  const onSeekClick = useCallback(\n    (event, type) => {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if (mediaRef.current) {\n        const { currentTime } = mediaRef.current\n\n        jumpTo(type === 'rewind' ? currentTime - 10 : currentTime + 30)\n      }\n    },\n    [jumpTo]\n  )\n\n  const onMuteClick = useCallback(event => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (mediaRef.current) {\n      mediaRef.current.muted = !mediaRef.current.muted\n    }\n  }, [])\n\n  const onPlaybackRateClick = useCallback(event => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (mediaRef.current) {\n      mediaRef.current.playbackRate = getNextPlaybackRate(\n        mediaRef.current.playbackRate\n      )\n    }\n  }, [])\n\n  const onProgressBarClick = useCallback(event => {\n    event.preventDefault()\n    event.stopPropagation()\n    setIsDragging(false)\n  }, [])\n\n  const onProgressBarMouseDown = useCallback(\n    event => {\n      event.preventDefault()\n      event.stopPropagation()\n      setIsDragging(true)\n\n      const { time } = evaluateCursorPosition(event)\n      jumpTo(time)\n    },\n    [evaluateCursorPosition, jumpTo]\n  )\n\n  const onProgressBarMouseOver = useCallback(() => setIsHovering(true), [])\n\n  const onWrapClick = useCallback(\n    event => {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if ($isDragging) {\n        setIsDragging(false)\n      } else {\n        togglePlayback()\n      }\n    },\n    [$isDragging, togglePlayback]\n  )\n\n  const onWrapMouseMove = useCallback(\n    event => {\n      if (($isDragging || $isHovering) && mediaRef.current) {\n        event.preventDefault()\n        const { cursor, time } = evaluateCursorPosition(event)\n\n        setHoveredTime(time)\n        setCursorX(cursor)\n\n        if ($isDragging) {\n          if (!mediaRef.current.paused) {\n            mediaRef.current.pause()\n            setPausedByDrag(true)\n          }\n\n          jumpTo(time)\n        }\n      }\n    },\n    [evaluateCursorPosition, $isDragging, $isHovering, jumpTo]\n  )\n\n  const onWrapMouseOver = useCallback(\n    event => {\n      if ($isDragging && event.buttons === 0) {\n        setIsDragging(false)\n      }\n    },\n    [$isDragging]\n  )\n\n  const onWrapKeyDown = useCallback(\n    event => {\n      if ($isDragging) {\n        return\n      }\n\n      const { keyCode } = event\n\n      if (\n        [SPACE_KEY, L_ARROW_KEY, R_ARROW_KEY, M_KEY].includes(keyCode) &&\n        mediaRef.current\n      ) {\n        event.preventDefault()\n\n        switch (keyCode) {\n          case SPACE_KEY:\n            togglePlayback()\n            break\n          case L_ARROW_KEY:\n            jumpTo(mediaRef.current.currentTime - 5)\n            break\n          case R_ARROW_KEY:\n            jumpTo(mediaRef.current.currentTime + 5)\n            break\n          case M_KEY:\n            mediaRef.current.muted = !mediaRef.current.muted\n            break\n        }\n      }\n    },\n    [$isDragging, jumpTo, togglePlayback]\n  )\n\n  const outerWrapEvents = useMemo(\n    () => ({\n      onClick: onWrapClick,\n      onKeyDown: onWrapKeyDown,\n      onMouseMove: onWrapMouseMove,\n      onMouseOut: () => setIsHovering(false),\n      onMouseOver: onWrapMouseOver\n    }),\n    [onWrapClick, onWrapKeyDown, onWrapMouseMove, onWrapMouseOver]\n  )\n\n  const outerWrapTitle = useMemo(\n    () => ($hasInteracted ? { title: '' } : {}),\n    [$hasInteracted]\n  )\n\n  const bufferedMedia = useMemo(() => {\n    if (buffered && buffered.length && mediaRef.current) {\n      return [...Array(buffered.length).keys()].map(index => {\n        return {\n          start: buffered.start(index) / mediaRef.current.duration,\n          end: buffered.end(index) / mediaRef.current.duration\n        }\n      })\n    }\n\n    return []\n  }, [buffered])\n\n  const currentTime = useMemo(() => formatSeconds(progress || 0), [progress])\n  const endTime = useMemo(() => formatSeconds(duration || 0), [duration])\n\n  const footerControlsProps = useMemo(\n    () => ({\n      $cardSize: size,\n      currentTime,\n      endTime,\n      isMuted,\n      onMuteClick,\n      onPlaybackRateClick,\n      playbackRate\n    }),\n    [\n      currentTime,\n      endTime,\n      isMuted,\n      onMuteClick,\n      onPlaybackRateClick,\n      playbackRate,\n      size\n    ]\n  )\n\n  const progressBarProps = useMemo(\n    () => ({\n      bufferedMedia,\n      cursorX,\n      duration,\n      hoveredTime,\n      $isDragging,\n      $isHovering,\n      onClick: onProgressBarClick,\n      onMouseDown: onProgressBarMouseDown,\n      onMouseOver: onProgressBarMouseOver,\n      progress,\n      showTooltip: $isDragging || $isHovering\n    }),\n    [\n      bufferedMedia,\n      cursorX,\n      duration,\n      hoveredTime,\n      $isDragging,\n      $isHovering,\n      onProgressBarClick,\n      onProgressBarMouseDown,\n      onProgressBarMouseOver,\n      progress\n    ]\n  )\n\n  useEffect(() => {\n    if (\n      !$isDragging &&\n      pausedByDrag &&\n      mediaRef.current &&\n      mediaRef.current.paused\n    ) {\n      mediaRef.current.play()\n      setPausedByDrag(false)\n    }\n  }, [pausedByDrag, $isDragging])\n\n  return (\n    <>\n      <MediaComponent\n        {...mediaProps}\n        {...mediaEvents}\n        ref={setRefs}\n        autoPlay={autoPlay}\n        loop={loop}\n        muted={muted}\n      />\n\n      {controls && (\n        <OuterWrap\n          {...outerWrapTitle}\n          tabIndex={0}\n          $hasInteracted={$hasInteracted}\n          $isDragging={$isDragging}\n          $isPlaying={$isPlaying}\n          {...outerWrapEvents}\n        >\n          <Spinner size={size} $isVisible={isBuffering} />\n\n          {!$hasInteracted ? (\n            <InnerWrap>\n              <PlaybackButton $cardSize={size} />\n            </InnerWrap>\n          ) : (\n            <>\n              <ControlsTop $isVisible={!$isDragging}>\n                <InnerWrap>\n                  {isNotSmall && (\n                    <SeekButton\n                      className={classNames.rwControl}\n                      type='rewind'\n                      $cardSize={size}\n                      onClick={event => onSeekClick(event, 'rewind')}\n                    />\n                  )}\n\n                  <PlaybackButton $cardSize={size} $isPlaying={$isPlaying} />\n\n                  {isNotSmall && (\n                    <SeekButton\n                      className={classNames.ffwControl}\n                      type='fastforward'\n                      $cardSize={size}\n                      onClick={event => onSeekClick(event, 'fastforward')}\n                    />\n                  )}\n                </InnerWrap>\n\n                {isNotSmall && <FooterControls {...footerControlsProps} />}\n              </ControlsTop>\n\n              <ProgressBar {...progressBarProps} />\n            </>\n          )}\n        </OuterWrap>\n      )}\n    </>\n  )\n}\n\nexport default Controls\n","import React, { useContext, useMemo } from 'react'\nimport { styled } from 'styled-components'\n\nimport Wrap from './Wrap'\nimport Controls from './Controls'\nimport { GlobalContext } from '../../../context/GlobalState'\nimport { classNames, imageProxy } from '../../../utils'\n\nconst VideoDOM = styled('video')`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  &::media-controls-start-playback-button {\n    display: none;\n    appearance: none;\n  }\n`\n\nconst Video = props => {\n  const {\n    state: { imageUrl, playsInline, videoUrl }\n  } = useContext(GlobalContext)\n\n  const mediaProps = useMemo(() => {\n    const mediaProps = {\n      className: `${classNames.media} ${classNames.video}`,\n      src: videoUrl,\n      playsInline\n    }\n    if (imageUrl) mediaProps.poster = imageProxy(imageUrl)\n    return mediaProps\n  }, [imageUrl, playsInline, videoUrl])\n\n  return (\n    <Wrap\n      className={`${classNames.mediaWrapper} ${classNames.videoWrapper}`}\n      {...props}\n    >\n      <Controls MediaComponent={VideoDOM} mediaProps={mediaProps} />\n    </Wrap>\n  )\n}\n\nexport default Video\n","import React, { useContext, useState } from 'react'\n\nimport { GlobalContext } from '../../../context/GlobalState'\nimport { getUrlPath } from '../../../utils'\nimport { ImageLoadCatcher } from './loader'\nimport Image from './Image'\nimport Video from './Video'\nimport Audio from './Audio'\n\nconst isUrl = url => getUrlPath(url) !== null\n\nconst MEDIA_COMPONENT = {\n  video: Video,\n  image: Image,\n  audio: Audio\n}\n\nconst getMediaType = (isAudio, isVideo) => {\n  if (isAudio) return 'audio'\n  if (isVideo) return 'video'\n  return 'image'\n}\n\nconst CardMedia = () => {\n  const {\n    state: { imageUrl, isAudio, isVideo }\n  } = useContext(GlobalContext)\n  const [isLoading, setIsLoading] = useState(isUrl(imageUrl))\n  const mediaType = getMediaType(isAudio, isVideo)\n  const MediaComponent = MEDIA_COMPONENT[mediaType]\n\n  return (\n    <>\n      <MediaComponent $isLoading={isLoading} />\n      {isLoading && (\n        <ImageLoadCatcher src={imageUrl} onLoad={() => setIsLoading(false)} />\n      )}\n    </>\n  )\n}\n\nexport default CardMedia\n","import React, { useContext, useMemo } from 'react'\n\nimport Image from './Image'\nimport Controls from './Controls'\nimport { GlobalContext } from '../../../context/GlobalState'\nimport { classNames } from '../../../utils'\n\nconst Audio = props => {\n  const {\n    state: { audioUrl }\n  } = useContext(GlobalContext)\n\n  const mediaProps = useMemo(\n    () => ({\n      className: `${classNames.media} ${classNames.audio}`,\n      src: audioUrl\n    }),\n    [audioUrl]\n  )\n\n  return (\n    // eslint-disable-next-line\n    <Image\n      className={`${classNames.mediaWrapper} ${classNames.audioWrapper}`}\n      {...props}\n    >\n      <Controls MediaComponent='audio' mediaProps={mediaProps} />\n    </Image>\n  )\n}\n\nexport default Audio\n","import { createElement, forwardRef, useContext } from 'react'\nimport { styled, css } from 'styled-components'\n\nimport { GlobalContext } from '../../context/GlobalState'\nimport { font, animation, speed } from '../../theme'\nimport { media, isLarge } from '../../utils'\n\nconst HEIGHT = '382px'\n\nconst contrastStyle = ({ $backgroundColor, color }) => css`\n  background-color: ${$backgroundColor};\n  border-color: ${color};\n  transition-property: filter;\n  will-change: filter;\n\n  &&& {\n    color: ${color};\n  }\n\n  &:hover {\n    filter: brightness(90%);\n  }\n`\n\nconst largeStyle = css`\n  flex-direction: column;\n  height: ${HEIGHT};\n  ${media.mobile`\n    height: calc(${HEIGHT} * 7/9);\n  `};\n`\n\nconst hoverStyle = css`\n  transition-property: background, border-color;\n  will-change: background, border-color;\n  &:hover {\n    background-color: var(--microlink-hover-background-color, #f5f8fa);\n    border-color: var(--microlink-hover-border-color, #8899a680);\n  }\n`\n\nconst rtlStyle = ({ $cardSize }) => css`\n  flex-direction: ${isLarge($cardSize) ? 'column-reverse' : 'row-reverse'};\n`\n\nconst baseStyle = css(\n  () => `\n  max-width: var(--microlink-max-width, 500px);\n  background-color: var(--microlink-background-color, #fff);\n  border-width: var(--microlink-border-width, 1px);\n  border-style: var(--microlink-border-style, solid);\n  border-color: var(--microlink-border-color, #e1e8ed);\n  color: var(--microlink-color, #181919);\n  overflow: hidden;\n  font-family: ${font.sans};\n  display: flex;\n  text-decoration: none;\n  opacity: 1;\n  position: relative;\n  transition-duration: ${speed.medium};\n  transition-timing-function: ${animation.medium};\n\n  &:active,\n  &:hover {\n    outline: 0;\n  }\n`\n)\n\nconst Element = styled('a')(\n  baseStyle,\n  ({ $isLoading, contrast }) => !$isLoading && !contrast && hoverStyle,\n  ({ $cardSize }) => isLarge($cardSize) && largeStyle,\n  ({ direction }) => direction === 'rtl' && rtlStyle,\n  ({ $backgroundColor, color, contrast }) =>\n    contrast && color && $backgroundColor && contrastStyle,\n  ({ $backgroundColor, color, contrast }) =>\n    contrast && (!color || !$backgroundColor) && hoverStyle\n)\n\nconst CardWrap = forwardRef(\n  (\n    {\n      href,\n      rel = 'noopener noreferrer',\n      target = '_blank',\n      as = 'a',\n      ...restProps\n    },\n    ref\n  ) => {\n    const {\n      state: { $backgroundColor, color, title },\n      props: { size: $cardSize }\n    } = useContext(GlobalContext)\n\n    return createElement(Element, {\n      ...(as === 'a' ? { href, rel, target } : undefined),\n      ...restProps,\n      $backgroundColor,\n      $cardSize,\n      color,\n      ref,\n      title\n    })\n  }\n)\n\nCardWrap.displayName = 'CardWrap'\n\nexport default CardWrap\n","/* eslint-disable multiline-ternary */\n\nimport React, {\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n  useContext\n} from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport { CardWrap, CardMedia, CardContent, CardEmpty } from './components/Card'\nimport GlobalState, { GlobalContext } from './context/GlobalState'\nimport {\n  castArray,\n  classNames,\n  fetchFromApi,\n  getApiUrl,\n  getUrlPath,\n  getPreferredMedia,\n  imageProxy,\n  isFunction,\n  isLazySupported,\n  isObject,\n  isSSR,\n  someProp\n} from './utils'\n\nimport { useIntersectionObserver } from './utils/hooks'\n\nconst Card = props => {\n  const {\n    className,\n    fetchData,\n    lazy,\n    loading,\n    media: mediaProp,\n    setData,\n    url,\n    apiKey, // destructuring to avoid pass it\n    ...restProps\n  } = props\n\n  const mediaProps = useMemo(() => castArray(mediaProp), [mediaProp])\n  const { updateState } = useContext(GlobalContext)\n  const [loadingState, setLoading] = useState(true)\n  const [iframeMedia, setIframeMedia] = useState(null)\n  const [isError, setIsError] = useState(false)\n  const isLoadingUndefined = useMemo(() => loading === undefined, [loading])\n  const [apiUrl, apiUrlProps] = useMemo(\n    () => getApiUrl({ ...props, media: mediaProps }),\n    [mediaProps, props]\n  )\n\n  const isLazyEnabled = useMemo(\n    () => isLazySupported && (lazy === true || isObject(lazy)),\n    [lazy]\n  )\n  const lazyOptions = useMemo(() => (isObject(lazy) ? lazy : undefined), [lazy])\n  const [hasIntersected, cardRef] = useIntersectionObserver(\n    isLazyEnabled,\n    lazyOptions\n  )\n\n  const canFetchData = useMemo(\n    () => !isLazyEnabled || (isLazyEnabled && hasIntersected),\n    [isLazyEnabled, hasIntersected]\n  )\n\n  const mergeData = useCallback(\n    fetchedData => {\n      const payload = isFunction(setData)\n        ? setData(fetchedData)\n        : { ...fetchedData, ...setData }\n\n      const { title, description, url, video, audio, image, logo, iframe } =\n        payload\n\n      const mediaFallback = image || logo || {}\n      let media = mediaFallback\n      let videoUrl\n      let audioUrl\n      let isVideo = false\n      let isAudio = false\n\n      const preferredMedia = getPreferredMedia(payload, mediaProps)\n\n      switch (preferredMedia) {\n        case 'audio':\n          isAudio = true\n          audioUrl = getUrlPath(audio)\n          break\n        case 'video':\n          isVideo = true\n          videoUrl = getUrlPath(video)\n          break\n        case 'iframe':\n          setIframeMedia(iframe)\n          break\n        default:\n          media = someProp(payload, mediaProps) || mediaFallback\n          break\n      }\n\n      const imageUrl = getUrlPath(media)\n      const { color, background_color: $backgroundColor } = media\n\n      updateState({\n        url,\n        color,\n        title,\n        description,\n        imageUrl,\n        videoUrl,\n        audioUrl,\n        isVideo,\n        isAudio,\n        $backgroundColor\n      })\n\n      setLoading(false)\n    },\n    [updateState, mediaProps, setData]\n  )\n\n  const toFetchData = useCallback(() => {\n    if (canFetchData) {\n      setLoading(true)\n\n      const fetch = fetchData\n        ? fetchFromApi(apiUrl, apiUrlProps)\n        : Promise.resolve({})\n\n      fetch\n        .then(({ data }) => mergeData(data))\n        .catch(error => {\n          setLoading(false)\n          setIsError(true)\n          console.error(`\n┌───────────────┐\n│ Microlink SDK │\n└───────────────┘\n\n${error.description}\n\n${JSON.stringify(error.data)}\n\nid   ${error.headers['x-request-id']}\nuri  ${error.url}\ncode ${error.code} (${error.statusCode})\n\nmicrolink.io/${error.code.toLowerCase()}\n`)\n        })\n    }\n  }, [apiUrlProps, fetchData, apiUrl, mergeData, canFetchData])\n\n  useEffect(toFetchData, [url, setData, hasIntersected])\n\n  const isLoading = isLoadingUndefined ? loadingState : loading\n\n  if (isError) {\n    return (\n      <a href={url} {...restProps}>\n        {url}\n      </a>\n    )\n  }\n\n  if (iframeMedia) {\n    if (!isSSR) {\n      iframeMedia.scripts.forEach(attrs => {\n        const hasScript = document.querySelector(`script[src=\"${attrs.src}\"]`)\n        if (!hasScript) {\n          const script = document.createElement('script')\n          Object.keys(attrs).forEach(key => (script[key] = attrs[key]))\n          document.body.appendChild(script)\n        }\n      })\n    }\n\n    return (\n      <div\n        className={classNames.iframe}\n        dangerouslySetInnerHTML={{ __html: iframeMedia.html }}\n        {...restProps}\n      />\n    )\n  }\n\n  return (\n    <CardWrap\n      className={`${classNames.main} ${className}`.trim()}\n      href={url}\n      $isLoading={isLoading}\n      ref={cardRef}\n      {...restProps}\n    >\n      {isLoading ? (\n        <CardEmpty />\n      ) : (\n        <>\n          <CardMedia />\n          <CardContent />\n        </>\n      )}\n    </CardWrap>\n  )\n}\n\nconst Microlink = ({\n  className = '',\n  apiKey = undefined,\n  autoPlay = true,\n  controls = true,\n  direction = 'ltr',\n  lazy = true,\n  loop = true,\n  media = ['iframe', 'video', 'audio', 'image', 'logo'],\n  fetchData = true,\n  muted = true,\n  playsInline = true,\n  size = 'normal',\n  ...props\n}) => (\n  <GlobalState\n    className={className}\n    apiKey={apiKey}\n    autoPlay={autoPlay}\n    controls={controls}\n    direction={direction}\n    lazy={lazy}\n    loop={loop}\n    media={media}\n    fetchData={fetchData}\n    muted={muted}\n    playsInline={playsInline}\n    size={size}\n    {...props}\n  >\n    {otherProps => <Card {...otherProps} />}\n  </GlobalState>\n)\n\nMicrolink.propTypes = {\n  apiKey: PropTypes.string,\n  autoPlay: PropTypes.bool,\n  contrast: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  controls: PropTypes.bool,\n  direction: PropTypes.string,\n  lazy: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  loop: PropTypes.bool,\n  media: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ]),\n  mediaRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.elementType })\n  ]),\n  muted: PropTypes.bool,\n  playsInline: PropTypes.bool,\n  prerender: PropTypes.oneOf(['auto', true, false]),\n  size: PropTypes.oneOf(['normal', 'large', 'small']),\n  url: PropTypes.string.isRequired\n}\n\nexport { imageProxy, getApiUrl, fetchFromApi }\n\nexport default Microlink\n","/* global IntersectionObserver */\n\nimport { useCallback, useState } from 'react'\n\nexport const useIntersectionObserver = (enabled, options) => {\n  const [hasIntersected, setHasIntersected] = useState(false)\n\n  const refCallback = useCallback(\n    node => {\n      if (enabled) {\n        const onIntersect = ([entry], self) => {\n          if (entry.isIntersecting) {\n            setHasIntersected(true)\n            self.unobserve(entry.target)\n          }\n        }\n        const observer = new IntersectionObserver(onIntersect, options)\n\n        if (node !== null) {\n          observer.observe(node)\n        }\n      } else {\n        setHasIntersected(true)\n      }\n    },\n    [enabled, options]\n  )\n\n  return [hasIntersected, refCallback]\n}\n"],"names":["l","_ref","accessibility","debounce","o","ellipsis","u","is","c","lines","s","text","d","v","_objectWithoutProperties","_excluded","a","e","useRef","f","h","_objectSpread","ref","title","g","t","length","m","n","useCallback","r","i","current","innerText","clientHeight","Math","floor","slice","max","trim","useEffect","later","clearTimeout","setTimeout","window","addEventListener","removeEventListener","hostname","regex","RegExp","concat","map","re","source","join","ipv4Module","exports","test","bind","module","require","ipv6Module","isSSR","isFunction","fn","isObject","obj","isNil","value","getUrlPath","data","url","media","css","_templateObject","_taggedTemplateLiteral","arguments","getApiUrl","apiKey","contrast","endpoint","force","headers","prerender","proxy","ttl","createApiUrl","audio","includes","iframe","palette","screenshot","video","isLarge","cardSize","isSmall","imageProxy","isLocalAddress","URL","URLSearchParams","default","af","il","toString","isLazySupported","formatSeconds","secs","secsToNum","parseInt","filter","clampNumber","num","min","BASE_CLASSNAME","CONTENT_BASE_CLASSNAME","MEDIA_BASE_CLASSNAME","CONTROLS_BASE_CLASSNAME","classNames","main","content","description","mediaWrapper","image","videoWrapper","audioWrapper","mediaControls","playbackControl","volumeControl","rwControl","ffwControl","rateControl","progressBar","progressTime","spinner","StyledClamp","styled","children","className","React","createElement","NanoClamp","_ref2","$useNanoClamp","_templateObject2","CardText","_ref3","useNanoClamp","props","textProps","as","_extends","speed","short","medium","long","animation","createTransition","properties","suffix","property","transition","_len","Array","_key","_len2","_key2","_len3","_key3","font","initialState","GlobalContext","createContext","GlobalState","autoPlay","controls","loop","mediaRef","muted","playsInline","size","rest","state","setState","useState","updateState","newState","currentState","useMemo","values","Provider","REGEX_STRIP_WWW","BADGE_WIDTH","mobileDescriptionStyle","Content","attrs","_templateObject3","$cardSize","_templateObject4","Header","_templateObject5","_templateObject6","_templateObject7","Description","_templateObject8","Footer","_templateObject9","_ref4","_templateObject10","Author","_templateObject11","PoweredBy","_templateObject12","CardContent","useContext","isSmallCard","formattedUrl","href","replace","getHostname","handleOnClick","preventDefault","open","onClick","emptyStatePulse","keyframes","emptyStateImagePulse","emptyStateAnimation","emptyStateImageAnimation","ImageLoadCatcher","loadingOverlay","$isLoading","mediaSizeStyles","small","normal","large","StyledWrap","Wrap","ImageWrap","ImageComponent","imageUrl","MediaEmpty","CardImage","HeaderEmpty","DescriptionEmpty","FooterEmpty","CardEmptyState","Fragment","style","marginBottom","_FooterEmpty","MediaButton","VolumeMute","xmlns","viewBox","_path","fill","fillRule","stroke","strokeWidth","transform","VolumeUp","_path2","BottomControls","VolumeIcon","VolumeButton","PlaybackRateButton","_ref5","_ref6","_ref7","TimeLabel","_ref8","$right","FooterControls","_ref9","currentTime","endTime","isMuted","onMuteClick","onPlaybackRateClick","playbackRate","VolumeComponent","isLargeCard","Pause","Play","iconSizes","PlaybackIcon","PlaybackButtonWrap","PlaybackButton","$isPlaying","PlaybackComponent","scrubberSizeScales","Scrubber","$isVisible","$positionX","left","opacity","visibility","scrubberSize","sizeScales","TooltipBase","$position","$isDragging","$visible","top","Tooltip","forwardRef","label","displayName","heightScales","activeHeightScales","getProgressBarActiveHeight","OuterWrap","PADDING","BarsWrap","activeHeight","height","ProgressLine","ProgressMask","$maskScale","ProgressHover","$cursorRatio","$isHovering","$progressPercent","BufferedChunk","start","end","right","ProgressBar","bufferedMedia","cursorX","duration","hoveredTime","onMouseDown","onMouseOver","progress","showTooltip","wrapRef","tooltipRef","getWrapWidth","getBoundingClientRect","width","progressRatio","wrapWidth","startPoint","cursorPosition","toFixed","bufferedMediaChunks","chunk","key","tooltipLabel","tooltipPositionX","tooltipHalf","mouseEvents","showAccessories","Backward","Forward","_excluded2","SeekIcon","SeekButtonWrap","SeekButton","type","_excluded3","IconComponent","offsetScales","rotate","dash","getSpinnerSize","offset","getSpinnerOffset","Svg","Circle","Spinner","_Svg","cx","cy","SPACE_KEY","L_ARROW_KEY","R_ARROW_KEY","M_KEY","$hasInteracted","bg","isPaused","InnerWrap","ControlsTop","Controls","MediaComponent","mediaProps","propRef","setDuration","setProgress","buffered","setBuffered","setCursorX","setHoveredTime","setIsPlaying","setIsMuted","isBuffering","setIsBuffering","setIsHovering","setIsDragging","setPlaybackRate","setHasInteracted","pausedByDrag","setPausedByDrag","setRefs","node","isNotSmall","mediaEvents","onCanPlay","onLoadedMetadata","currentTarget","onPause","onPlay","onPlaying","onProgress","onRateChange","onTimeUpdate","onVolumeChange","onWaiting","evaluateCursorPosition","event","bounds","cursor","clientX","time","togglePlayback","paused","play","pause","jumpTo","onSeekClick","stopPropagation","rate","getNextPlaybackRate","onProgressBarClick","onProgressBarMouseDown","onProgressBarMouseOver","onWrapClick","onWrapMouseMove","onWrapMouseOver","buttons","onWrapKeyDown","keyCode","outerWrapEvents","onKeyDown","onMouseMove","onMouseOut","outerWrapTitle","keys","index","footerControlsProps","progressBarProps","tabIndex","VideoDOM","MEDIA_COMPONENT","videoUrl","src","poster","Image","audioUrl","CardMedia","isAudio","isVideo","isLoading","setIsLoading","mediaType","getMediaType","onLoad","HEIGHT","contrastStyle","$backgroundColor","color","largeStyle","hoverStyle","rtlStyle","baseStyle","Element","direction","CardWrap","rel","target","restProps","undefined","Card","fetchData","lazy","loading","mediaProp","setData","loadingState","setLoading","iframeMedia","setIframeMedia","isError","setIsError","isLoadingUndefined","apiUrl","apiUrlProps","isLazyEnabled","lazyOptions","hasIntersected","cardRef","useIntersectionObserver","enabled","options","setHasIntersected","observer","IntersectionObserver","onIntersect","self","entry","isIntersecting","unobserve","observe","canFetchData","mergeData","fetchedData","payload","logo","mediaFallback","preferredMedia","getPreferredMedia","prefer","someProp","find","prop","background_color","toFetchData","fetchFromApi","Promise","resolve","then","catch","error","console","JSON","stringify","code","statusCode","toLowerCase","scripts","forEach","document","querySelector","script","Object","body","appendChild","dangerouslySetInnerHTML","__html","html","_CardEmpty","CardEmpty","_CardMedia","_CardContent","otherProps"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}